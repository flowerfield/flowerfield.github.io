<!DOCTYPE html><html lang="zh-Hans"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 网络编程系列 VueRouter · 花田半亩</title><meta name="description" content="网络编程系列 VueRouter - 文顶顶"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/logo.jpeg"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://weibo.com/u/3800117445/atom.xml" title="花田半亩"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/鲸鱼.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">文顶顶</a></li><li class="nav-list-item"><a href="/tags/" target="_self" class="nav-list-link">标签</a></li><li class="nav-list-item"><a href="https://www.cnblogs.com/wendingding/" target="_blank" class="nav-list-link">博客园</a></li><li class="nav-list-item"><a href="https://github.com/flowerField" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">网络编程系列 VueRouter</h1><div class="post-info">Jan 2, 2017<span class="post-count"></span> ✧ 字数统计:967(字) &nbsp;&nbsp; ♨︎ 阅读时长:5(分钟)</div><div class="post-content"><p> VueRouter 路由</p>
<ul>
<li><strong>MPA(多)页面应用</strong> (Multiple Page Application)</li>
<li><strong>SPA(单)页面应用</strong> (Single Page Application)  项目打包后最终只有index.html单个页面文件</li>
</ul>
<h3 id="VueRouter作用-一"><a href="#VueRouter作用-一" class="headerlink" title="VueRouter作用 (一)"></a>VueRouter作用 <strong>(一)</strong></h3><blockquote>
<p>在单页面应用中，配置路由后，能够通过不同的url路径来实现显示不同的组件内容。</p>
</blockquote>
<p>1、项目中下载和安装vue-router       <code>$ npm i vue-router -d</code><br>2、项目中的main.js文件中引入路由模块 <code>import VueRouter from &quot;vue-router&quot;</code><br>3、使用(安装)Vue-router插件        <code>Vue.use(VueRouter);</code><br>4、配置路由信息                    <code>关键参数:mode和routes:[]</code><br>5、注入路由到Vue实例对象<br>6、在App.vue中需要显示组件内容的位置通过<router-view>来进行占位(替换的部分)</router-view></p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* # main.js文件内容 */</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App.vue'</span></span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">"vue-router"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> A <span class="keyword">from</span> <span class="string">"./components/A"</span></span><br><span class="line"><span class="keyword">import</span> B <span class="keyword">from</span> <span class="string">"./components/B"</span></span><br><span class="line"><span class="keyword">import</span> C <span class="keyword">from</span> <span class="string">"./components/C"</span></span><br><span class="line">Vue.use(VueRouter);</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">    mode: <span class="string">"hash"</span>,</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            path: <span class="string">"/a"</span>,</span><br><span class="line">            component: A</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            path: <span class="string">"/b"</span>,</span><br><span class="line">            component: B</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            path: <span class="string">"/c"</span>,</span><br><span class="line">            component: C</span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            path: <span class="string">"/"</span>,</span><br><span class="line">            redirect: <span class="string">"/c"</span> <span class="comment">/* 重定向 */</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            path: <span class="string">"*"</span>,</span><br><span class="line">            redirect: <span class="string">"/404"</span> <span class="comment">/* 重定向到404页面 */</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    router,</span><br><span class="line">    render: <span class="function"><span class="params">h</span> =&gt;</span> h(App),</span><br><span class="line">&#125;).$mount(<span class="string">'#app'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* # app.vue文件内容 */</span></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;!-- 访问路由：当访问页面的时候显示指定的静态页面 --&gt;</span><br><span class="line">    &lt;!-- index.html |  home.html | login.html 等 --&gt;</span><br><span class="line">     &lt;router-view&gt;<span class="xml"><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span></span><br><span class="line">     &lt;hr&gt;</span><br><span class="line">    &lt;div&gt;A页面&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;B页面&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;C页面&lt;/div&gt;</span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h3 id="VueRouter作用-二"><a href="#VueRouter作用-二" class="headerlink" title="VueRouter作用 (二)"></a>VueRouter作用 <strong>(二)</strong></h3><blockquote>
<p>通过<code>&lt;router-link&gt;</code>组件的使用实现点击标签跳转的动作(可以理解为当点击标签的时候，修改了当前页面的URL地址，然后根据URL地址来切换显示对应的内容)。</p>
</blockquote>
<p><strong>第一种跳转的方式:通过<router-link>组件</router-link></strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;!-- 访问路由：当访问页面的时候显示指定的静态页面 --&gt;</span><br><span class="line">    &lt;!-- index.html |  home.html ÷Ú：：：：；。| login.html 等 --&gt;</span><br><span class="line">     &lt;router-view&gt;<span class="xml"><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span></span><br><span class="line">     &lt;hr&gt;</span><br><span class="line">      &lt;div v-for="item in menus" :key="item.content"&gt;</span><br><span class="line">        &lt;router-link :to="item.path" :tag="'span'" replace active-class="current"&gt;&#123;&#123;item.content&#125;&#125;&lt;/router-link&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: 'App',</span><br><span class="line">  data()&#123;</span><br><span class="line">    return  &#123;</span><br><span class="line">      menus:[&#123;</span><br><span class="line">        content:"A页面",</span><br><span class="line">        path:"/a"</span><br><span class="line">      &#125;,&#123;</span><br><span class="line">        content:"B页面",</span><br><span class="line">        path:"/b"</span><br><span class="line">      &#125;,&#123;</span><br><span class="line">        content:"C页面",</span><br><span class="line">        path:"/c"</span><br><span class="line">      &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">  .current&#123;</span><br><span class="line">    font-weight: bold;</span><br><span class="line">    color: red</span><br><span class="line">  &#125;</span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<p><code>&lt;router-link&gt;组件</code>的主要参数：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">:to  跳转的目标</span><br><span class="line">:tag 修改渲染后标签的类型</span><br><span class="line">:active-class  设置当前导航的选中状态(样式)</span><br></pre></td></tr></table></figure></p>
<p><strong>第二种跳转的方式:通过this.$router.push()调用函数来实现</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;button @click=<span class="string">"clickHandler2C"</span>&gt;跳转到C页面&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp"> clickHandler2C()&#123;</span></span><br><span class="line"><span class="regexp">     /</span>* <span class="number">1.</span>通过params来传递参数 *<span class="regexp">/</span></span><br><span class="line"><span class="regexp">      /</span>* 在C页面刷新，那么数据就不再了 *<span class="regexp">/</span></span><br><span class="line"><span class="regexp">      /</span>* <span class="number">1</span><span class="number">-1</span>  name + params 成功*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">      /</span><span class="regexp">/ this.$router.push(&#123;name:"c123",params:&#123;userID:this.id&#125;&#125;);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">      /</span>* 错误的演示 下面这行代码无法传递参数 *<span class="regexp">/</span></span><br><span class="line"><span class="regexp">      /</span>* 注意：如果提供了 path，params 会被忽略 *<span class="regexp">/</span></span><br><span class="line"><span class="regexp">      /</span><span class="regexp">/ this.$router.push(&#123;path:"/</span>c<span class="string">",params:&#123;userID:this.id&#125;&#125;);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">      /* 2.通过query来传递参数 */</span></span><br><span class="line"><span class="string">      /* 在C页面刷新，数据仍然存在 */</span></span><br><span class="line"><span class="string">      /* 2-1 */</span></span><br><span class="line"><span class="string">      // this.$router.push(&#123;name:"</span>c123<span class="string">",query:&#123;userID:this.id&#125;&#125;);</span></span><br><span class="line"><span class="string">      /* 2-2 */</span></span><br><span class="line"><span class="string">      //  this.$router.push(&#123;path:"</span>/c<span class="string">",query:&#123;userID:this.id&#125;&#125;);</span></span><br><span class="line"><span class="string"> &#125;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="VueRouter路由参数的传递"><a href="#VueRouter路由参数的传递" class="headerlink" title="VueRouter路由参数的传递"></a>VueRouter路由参数的传递</h3><p><strong>①</strong> 通过this.$router.push() 方法来传递参数<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">this.$router.push(&#123;name:&quot;c123&quot;,params:&#123;userID:this.id&#125;&#125;);</span><br><span class="line">this.$router.push(&#123;name:&quot;c123&quot;,query:&#123;userID:this.id&#125;&#125;);</span><br><span class="line">this.$router.push(&#123;path:&quot;/c&quot;,query:&#123;userID:this.id&#125;&#125;);</span><br><span class="line">query和params的区别在于，当目标页面刷新时，参数是否还存在。</span><br></pre></td></tr></table></figure></p>
<p><strong>②</strong><br>动态参数传递</p>
<pre><code>* mode history 
* path  &quot;/d/:id&quot;
* url   http://localhost:8081/d/234534786  + this.$route.params.id;

注意:如果mode为hash的话，貌似无法实现动态参数的传递
</code></pre><ul>
<li>Posted by 博客园·<a href="http://www.cnblogs.com/wendingding/" target="_blank" rel="noopener">文顶顶</a> | <a href="http://wendingding.com" target="_blank" rel="noopener">花田半亩</a></li>
<li>联系作者 简书·<a href="http://www.jianshu.com/users/c5703017b9f5/latest_articleshttp://www.jianshu.com/users/c5703017b9f5/latest_articles" target="_blank" rel="noopener">文顶顶</a> 新浪微博·<a href="http://weibo.com/p/1005053800117445/home?from=page_100505&amp;mod=TAB#place">Coder_文顶顶</a></li>
<li>原创文章，版权声明：自由转载-非商用-非衍生-保持署名 | <a href="http://www.cnblogs.com/wendingding/" target="_blank" rel="noopener">文顶顶</a></li>
</ul>
</div></article></div></main><footer><div class="paginator"><a href="/2017/01/03/网络编程系列 自定义事件和插槽(Vue)/" class="prev">上一篇</a><a href="/2017/01/02/网络编程系列 数据流和组件通信(Vue)/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2020 <a href="https://weibo.com/u/3800117445">文顶顶</a> &nbsp;☁ 全站字数统计 373.9k (字)</p><div class="topDiv"><div><img src="https://raw.githubusercontent.com/flowerField/Source/master/Blog/M.png" style="width:100px;height:100px"> </div></div><!--p © #{year} #[a(href=config.url)!= config.author], powered by #[a(href=hexoURL, target="_blank") Hexo] and #[a(href=apolloURL, target="_blank") hexo-theme-apollo].--></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>