<!DOCTYPE html><html lang="zh-Hans"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> javaScript系列 [11]-Canvas绘图(路径) · 花田半亩</title><meta name="description" content="javaScript系列 [11]-Canvas绘图(路径) - 文顶顶"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/logo.jpeg"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://weibo.com/u/3800117445/atom.xml" title="花田半亩"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/鲸鱼.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">文顶顶的BLOG</a></li><li class="nav-list-item"><a href="/tags/" target="_self" class="nav-list-link">标签</a></li><li class="nav-list-item"><a href="https://www.cnblogs.com/wendingding/" target="_blank" class="nav-list-link">博客园</a></li><li class="nav-list-item"><a href="http://weibo.com/p/1005053800117445/home?from=page_100505&amp;mod=TAB#place" target="_blank" class="nav-list-link">微博</a></li><li class="nav-list-item"><a href="http://blog.sina.com.cn/u/1910914290" target="_blank" class="nav-list-link">花田半亩</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">javaScript系列 [11]-Canvas绘图(路径)</h1><div class="post-info">Jan 2, 2019<span class="post-count"></span> ✧ 字数统计:3,427(字) &nbsp;&nbsp; ♨︎ 阅读时长:16(分钟)</div><div class="post-content"><div class="tip">本文将介绍Canvas中的路径、矩形以及描边和填充等绘制方法，非零正交原则以及线性渐变等内容，并提供折线图和柱状图等综合案例。</div>

<h3 id="Canvas路径和状态"><a href="#Canvas路径和状态" class="headerlink" title="Canvas路径和状态"></a>Canvas路径和状态</h3><div class="titleX"><strong>核心API介绍</strong></div>

<p><span style="border:1px solid #ccc;padding:2px 10px;color:#666"><strong>设置绘制的起点</strong></span></p>
<p><strong><code>语法</code></strong> <code>ctx.moveTo(x, y);</code><br><strong><code>参数</code></strong> 第一个参数和第二个参数都是相对于<a href="">Canvas</a>画布左上角的X轴和Y轴坐标。<br><strong><code>作用</code></strong> 设置<a href="">Canvas</a>上下文绘制路径的起点，相当于设置画笔从哪个位置开始移动。<br><strong><code>注意</code></strong> 使用<a href="">Canvas</a>上下文绘制路径前必须先设置起点，否则绘制无效。</p>
<p><span style="border:1px solid #ccc;padding:2px 10px;color:#666"><strong>设置绘制目标点</strong></span></p>
<p><strong><code>语法</code></strong>  <code>ctx.lineTo(x, y);</code><br><strong><code>参数</code></strong>  第一个参数和第二个参数都是相对于<a href="">Canvas</a>画布左上角的X轴和Y轴坐标。<br><strong><code>作用</code></strong>  设置<a href="">Canvas</a>上下文绘制路径的目标点，相当于设置画笔移动的目标位置。</p>
<p><span style="border:1px solid #ccc;padding:2px 10px;color:#666"><strong>设置描边</strong></span></p>
<p><strong><code>语法</code></strong>  <code>ctx.stroke();</code><br><strong><code>作用</code></strong>  根据路径来绘制(描边)，可以在绘制前通过<code>strokeStyle</code>来设置描边样式。</p>
<p><span style="border:1px solid #ccc;padding:2px 10px;color:#666"><strong>设置填充</strong></span></p>
<p><strong><code>语法</code></strong>  <code>ctx.fill();</code><br><strong><code>作用</code></strong>  对闭合路径的内容进行绘制(填充),可以通过<code>fillStyle</code>来设置样式，默认黑色。<br><strong><code>参数</code></strong> <code>fill</code>方法有两个可选参数(<code>nonzero | evenodd</code>) ，控制填充时使用环绕原则(默认)或奇偶原则。</p>
<p><span style="border:1px solid #ccc;padding:2px 10px;color:#666"><strong>矩形路径</strong></span></p>
<p><strong><code>语法</code></strong>  <code>ctx.rect(x, y, width, height);</code><br><strong><code>参数</code></strong>  第一个参数和第二个参数都是矩形左上角坐标的X和Y轴坐标，第三和第四个参数为矩形的宽高。<br><strong><code>注意</code></strong>  <code>rect</code>方法只是规划了矩形的路径，并没有填充和描边，因此还需要搭配<code>stroke</code>或<code>fill</code>使用。</p>
<p><span style="border:1px solid #ccc;padding:2px 10px;color:#666"><strong>描边矩形</strong></span></p>
<p><strong><code>语法</code></strong>  <code>ctx.strokeRect(x, y, width, height);</code><br><strong><code>参数</code></strong>  第一个参数和第二个参数都是矩形左上角坐标的X和Y轴坐标，第三和第四个参数为矩形的宽高。<br><strong><code>作用</code></strong>  该方法绘制完矩形路径后立即进行<code>stroke</code>描边绘制，等价于<code>rect + stroke</code>组合。</p>
<p><span style="border:1px solid #ccc;padding:2px 10px;color:#666"><strong>填充矩形</strong></span></p>
<p><strong><code>语法</code></strong>  <code>ctx.fillRect(x, y, width, height);</code><br><strong><code>参数</code></strong>  第一个参数和第二个参数都是矩形左上角坐标的X和Y轴坐标，第三和第四个参数为矩形的宽高。<br><strong><code>作用</code></strong>  该方法绘制完矩形路径后立即进行<code>fill</code>填充绘制，等价于<code>rect + fill</code>方法的组合。</p>
<p><span style="border:1px solid #ccc;padding:2px 10px;color:#666"><strong>矩形擦除</strong></span></p>
<p><strong><code>语法</code></strong>  <code>ctx.clearRect(x, y, width, hegiht);</code><br><strong><code>参数</code></strong>  第一个参数和第二个参数都是矩形左上角坐标的X和Y轴坐标，第三和第四个参数为矩形的宽高。<br><strong><code>作用</code></strong>  该方法用于擦除指定矩形内绘制的内容，需注意如果重置画布宽度，内容将自动重绘。</p>
<p><span style="border:1px solid #ccc;padding:2px 10px;color:#666"><strong>开始和闭合路径</strong></span></p>
<p><strong><code>语法</code></strong>  <code>ctx.beginPath();</code>和<code>ctx.closePath();</code><br><strong><code>作用</code></strong>  开始路径的作用是将不同的绘制路径进行隔离，闭合路径会自动连接最开始和最后的点。<br><strong><code>注意</code></strong>  执行开始路径方法时表示将要重新绘制一个新的路径，可以分开设置和管理多个路径的样式。</p>
<p><div class="titleX"><strong>路径的核心属性介绍</strong></div><br><span class="prop"><strong>lineCap</strong></span> 设置或返回线条末端线帽样式，可选值有<code>butt默认</code>|<code>round圆形</code>|<code>square正方形</code><br><span class="prop"><strong>lineJoin</strong></span>设置或返回所创建边角的类型，可选值有<code>miter默认</code>|<code>round圆角</code>|<code>bevel斜角</code><br><span class="prop"><strong>lineWidth</strong></span>设置或返回当前线条的宽度，以像素计，默认值为1。<br><span class="prop"><strong>miterLimit</strong></span>设置或返回最大斜接长度。<br><span class="prop" style="background:#195;color:#fff"><strong>fillStyle</strong></span>设置或返回用于填充绘画的颜色、渐变或模式。<br><span class="prop" style="background:#195;color:#fff"><strong>strokeStyle</strong></span>设置或返回用于笔触(描边)的颜色、渐变或模式。<br><span class="prop"><strong>shadowColor</strong></span>设置或返回用于阴影的颜色，和<code>shadowBlur</code>一起使用。<br><span class="prop"><strong>shadowBlur</strong></span>设置或返回用于阴影的模糊级别，和<code>shadowColor</code>一起使用。<br><span class="prop"><strong>shadowOffsetX</strong></span>设置或返回阴影距形状的水平距离，0指示阴影位于形状的正下方。<br><span class="prop"><strong>shadowOffsetY</strong></span>设置或返回阴影距形状的垂直距离，0指示阴影位于形状的正下方。</p>
<h3 id="Canvas路径绘制示例"><a href="#Canvas路径绘制示例" class="headerlink" title="Canvas路径绘制示例"></a>Canvas路径绘制示例</h3><p><div class="titleX"><strong>路径绘制Demo</strong></div><br><strong><code>Demo-1 绘制交叉和平行线</code></strong><br><img src="https://github.com/flowerField/Source/blob/master/Blog/canvas_04.png?raw=true" width="500px"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//01 绘制一条直线</span></span><br><span class="line"><span class="keyword">var</span> canvas  = <span class="built_in">document</span>.getElementById(<span class="string">"canvas"</span>);</span><br><span class="line"><span class="keyword">var</span> ctx     = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line">ctx.moveTo(<span class="number">20</span>,<span class="number">20.5</span>);</span><br><span class="line">ctx.lineTo(<span class="number">200</span>,<span class="number">20.5</span>);</span><br><span class="line">ctx.strokeStyle = <span class="string">"#195"</span>;   <span class="comment">//设置描边样式</span></span><br><span class="line">ctx.stroke();</span><br><span class="line"></span><br><span class="line"><span class="comment">//02 绘制两条平行线</span></span><br><span class="line">ctx.moveTo(<span class="number">20.5</span>,<span class="number">40</span>);        <span class="comment">//设置起点</span></span><br><span class="line">ctx.lineTo(<span class="number">20.5</span>,<span class="number">120</span>);       <span class="comment">//设置目标点</span></span><br><span class="line"></span><br><span class="line">ctx.moveTo(<span class="number">40.5</span>,<span class="number">40</span>);        <span class="comment">//设置起点</span></span><br><span class="line">ctx.lineTo(<span class="number">40.5</span>,<span class="number">120</span>);       <span class="comment">//设置目标点</span></span><br><span class="line">ctx.stroke();               <span class="comment">//绘制路径(描边)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//03 绘制两条交叉线条</span></span><br><span class="line">ctx.moveTo(<span class="number">60</span>,<span class="number">60</span>);          <span class="comment">//设置起点</span></span><br><span class="line">ctx.lineTo(<span class="number">100</span>,<span class="number">100</span>);        <span class="comment">//设置目标点</span></span><br><span class="line">ctx.moveTo(<span class="number">100</span>,<span class="number">60</span>);         <span class="comment">//设置起点</span></span><br><span class="line">ctx.lineTo(<span class="number">60</span>,<span class="number">100</span>);         <span class="comment">//设置目标点</span></span><br><span class="line">ctx.stroke();               <span class="comment">//绘制路径(描边)</span></span><br></pre></td></tr></table></figure>
<p><strong><code>Demo-2 开始路径和闭合路径</code></strong><br><img src="https://github.com/flowerField/Source/blob/master/Blog/canvas_05.png?raw=true" width="400px"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"canvas"</span>);</span><br><span class="line"><span class="keyword">var</span> ctx    = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//001 绘制两条交叉的线(演示beginPath方法的使用)</span></span><br><span class="line"><span class="comment">//(1) 设置并绘制第一条线</span></span><br><span class="line">ctx.moveTo(<span class="number">50</span>,<span class="number">50</span>);</span><br><span class="line">ctx.lineTo(<span class="number">150</span>,<span class="number">150</span>);</span><br><span class="line">ctx.stroke();</span><br><span class="line"></span><br><span class="line"><span class="comment">//(2) 设置并绘制第二条线</span></span><br><span class="line">ctx.beginPath();         <span class="comment">//重新开启路径</span></span><br><span class="line">ctx.moveTo(<span class="number">50</span>,<span class="number">150</span>);</span><br><span class="line">ctx.lineTo(<span class="number">150</span>,<span class="number">50</span>);</span><br><span class="line"><span class="comment">//设置线条和描边的样式</span></span><br><span class="line">ctx.strokeStyle = <span class="string">"red"</span>;</span><br><span class="line">ctx.stroke();</span><br><span class="line"></span><br><span class="line"><span class="comment">//002 绘制两条相接的线(演示closePath方法的使用)</span></span><br><span class="line">ctx.beginPath();        <span class="comment">//重新开启路径</span></span><br><span class="line">ctx.moveTo(<span class="number">180.5</span>,<span class="number">20</span>);</span><br><span class="line">ctx.lineTo(<span class="number">180.5</span>,<span class="number">180.5</span>);</span><br><span class="line">ctx.lineTo(<span class="number">260</span>,<span class="number">180.5</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//设置关闭路径(自动连接两个点闭合以构成封闭区域)</span></span><br><span class="line">ctx.closePath();</span><br><span class="line">ctx.strokeStyle = <span class="string">"blue"</span>;</span><br><span class="line">ctx.stroke();</span><br><span class="line"></span><br><span class="line"><span class="comment">//设置图形填充和样式</span></span><br><span class="line">ctx.fillStyle = <span class="string">"#eee"</span>;</span><br><span class="line">ctx.fill();</span><br></pre></td></tr></table></figure>
<p><strong><code>Demo-3 绘制虚线的N种方式</code></strong><br><img src="https://github.com/flowerField/Source/blob/master/Blog/canvas_06.png?raw=true" width="400px"><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"canvas"</span>);</span><br><span class="line"><span class="keyword">var</span> ctx    = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//001 绘制虚线的第一种方式(通过fillRect矩形绘制API)</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span> ; i &lt; <span class="number">100</span> ; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//第一个参数：矩形的起点X</span></span><br><span class="line">    <span class="comment">//第二个参数：矩形的起点Y</span></span><br><span class="line">    <span class="comment">//第三个参数：矩形的宽度</span></span><br><span class="line">    <span class="comment">//第四个参数：矩形的高度</span></span><br><span class="line">    ctx.fillRect((i *<span class="number">2</span>),<span class="number">30</span>,<span class="number">1</span>,<span class="number">20</span>);</span><br><span class="line">    ctx.fillRect((i *<span class="number">2</span>),<span class="number">70</span>,<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">    ctx.fillRect((i *<span class="number">5</span>),<span class="number">100</span>,<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//002 绘制虚线的第二种方式(通过路径和setLineDash绘制API)</span></span><br><span class="line">ctx.moveTo(<span class="number">0</span>,<span class="number">130.5</span>);</span><br><span class="line">ctx.lineTo(<span class="number">200</span>,<span class="number">130.5</span>);</span><br><span class="line">ctx.setLineDash([<span class="number">5</span>]);</span><br><span class="line">ctx.stroke();</span><br><span class="line"></span><br><span class="line"><span class="comment">//开启路径绘制另一条虚线</span></span><br><span class="line">ctx.beginPath();</span><br><span class="line">ctx.moveTo(<span class="number">0</span>,<span class="number">160.5</span>);</span><br><span class="line">ctx.lineTo(<span class="number">200</span>,<span class="number">160.5</span>);</span><br><span class="line"><span class="comment">//参数说明[第一段的长度、第二段的长度、第三段的长度 * 重复]</span></span><br><span class="line">ctx.setLineDash([<span class="number">5</span>,<span class="number">10</span>,<span class="number">15</span>]);</span><br><span class="line">ctx.strokeStyle = <span class="string">"red"</span>;</span><br><span class="line">ctx.stroke();</span><br><span class="line"><span class="comment">//获取虚线的排列方式(不重复那段的排列方式)</span></span><br><span class="line"><span class="built_in">console</span>.log(ctx.getLineDash()); <span class="comment">//[5, 10, 15, 5, 10, 15]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//开启路径绘制另一条虚线(偏移量参照)</span></span><br><span class="line">ctx.beginPath();</span><br><span class="line">ctx.moveTo(<span class="number">0</span>,<span class="number">180.5</span>);</span><br><span class="line">ctx.lineTo(<span class="number">200</span>,<span class="number">180.5</span>);</span><br><span class="line"><span class="comment">//设置虚线的偏移量</span></span><br><span class="line">ctx.lineDashOffset = <span class="number">-30</span>;</span><br><span class="line">ctx.setLineDash([<span class="number">5</span>,<span class="number">10</span>,<span class="number">15</span>]);</span><br><span class="line">ctx.strokeStyle = <span class="string">"red"</span>;</span><br><span class="line">ctx.stroke();</span><br></pre></td></tr></table></figure></p>
<p><strong><code>Demo-4 绘制实心三角形和矩形(四边形)</code></strong><br><img src="https://github.com/flowerField/Source/blob/master/Blog/canvas_07.png?raw=true" width="400px"><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"canvas"</span>);</span><br><span class="line"><span class="keyword">var</span> ctx    = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line">   </span><br><span class="line"><span class="comment">//001 使用路径的方式绘制三角(边)形</span></span><br><span class="line">ctx.moveTo(<span class="number">20</span>,<span class="number">20</span>);</span><br><span class="line">ctx.lineTo(<span class="number">100</span>,<span class="number">20</span>);</span><br><span class="line">ctx.lineTo(<span class="number">80</span>,<span class="number">100</span>);</span><br><span class="line">ctx.closePath();</span><br><span class="line"><span class="comment">// ctx.lineTo(20,20);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//绘制(填充)</span></span><br><span class="line">ctx.fillStyle = <span class="string">"#195"</span>;</span><br><span class="line">ctx.fill();</span><br><span class="line"></span><br><span class="line"><span class="comment">//绘制(描边)</span></span><br><span class="line"><span class="comment">// ctx.stroke();</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//002 使用路径的方式绘制四角(边)形</span></span><br><span class="line"><span class="comment">//备注：如果是填充的话，那么只需要四个点的坐标即可确定</span></span><br><span class="line">ctx.beginPath();</span><br><span class="line">ctx.moveTo(<span class="number">150</span>,<span class="number">20</span>);</span><br><span class="line">ctx.lineTo(<span class="number">350</span>,<span class="number">20</span>);</span><br><span class="line">ctx.lineTo(<span class="number">350</span>,<span class="number">100</span>);</span><br><span class="line">ctx.lineTo(<span class="number">150</span>,<span class="number">100</span>);</span><br><span class="line">ctx.lineTo(<span class="number">150</span>,<span class="number">20</span>);</span><br><span class="line"><span class="comment">// ctx.closePath();</span></span><br><span class="line">   </span><br><span class="line"><span class="comment">//绘制(描边)</span></span><br><span class="line"><span class="comment">// ctx.strokeStyle = "red";</span></span><br><span class="line"><span class="comment">// ctx.stroke();</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//绘制(填充)</span></span><br><span class="line">ctx.fillStyle = <span class="string">"blue"</span>;</span><br><span class="line">ctx.fill();</span><br></pre></td></tr></table></figure></p>
<p><strong><code>Demo-5 绘制矩形API使用示例</code></strong><br><img src="https://github.com/flowerField/Source/blob/master/Blog/canvas_08.png?raw=true" width="400px"><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"canvas"</span>);</span><br><span class="line"><span class="keyword">var</span> ctx    = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//绘制矩形API介绍</span></span><br><span class="line"><span class="comment">//001 使用rect + stroke|fill 方法绘制矩形(非独立路径)</span></span><br><span class="line"><span class="comment">//第一个参数：矩形左上角X</span></span><br><span class="line"><span class="comment">//第二个参数：矩形左上角Y</span></span><br><span class="line"><span class="comment">//第三个参数：矩形的宽度W</span></span><br><span class="line"><span class="comment">//第四个参数：矩形的高度H</span></span><br><span class="line">ctx.rect(<span class="number">20</span>,<span class="number">20</span>,<span class="number">300</span>,<span class="number">100</span>);</span><br><span class="line">ctx.stroke();                   <span class="comment">//绘制(描边)</span></span><br><span class="line"><span class="comment">// ctx.fill();                  //绘制(填充)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//002 使用fillRect绘制(独立路径)</span></span><br><span class="line">ctx.fillStyle = <span class="string">"green"</span>;        <span class="comment">//设置填充颜色</span></span><br><span class="line">ctx.fillRect(<span class="number">20</span>,<span class="number">150</span>,<span class="number">200</span>,<span class="number">40</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//003 使用strokeRect绘制(独立路径)</span></span><br><span class="line">ctx.strokeStyle = <span class="string">"red"</span>;        <span class="comment">//设置描边颜色</span></span><br><span class="line">ctx.strokeRect(<span class="number">20</span>,<span class="number">210</span>,<span class="number">200</span>,<span class="number">50</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//004 擦除画布</span></span><br><span class="line"><span class="comment">//ctx.clearRect(20,150,50,40);</span></span><br></pre></td></tr></table></figure></p>
<p><div class="titleX"><strong>柱状图综合案例</strong></div><br><img src="https://github.com/flowerField/Source/blob/master/Blog/canvas_09.png?raw=true"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//绘制柱状图的构造函数</span></span><br><span class="line"><span class="keyword">var</span> RectChart = <span class="function"><span class="keyword">function</span>(<span class="params">ctx</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.rects = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">this</span>.ctx    = ctx || <span class="built_in">document</span>.getElementById(<span class="string">"canvas"</span>).getContext(<span class="string">"2d"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//设置计算参数</span></span><br><span class="line">    <span class="keyword">this</span>.m      = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">this</span>.w      = <span class="keyword">this</span>.ctx.canvas.width;</span><br><span class="line">    <span class="keyword">this</span>.h      = <span class="keyword">this</span>.ctx.canvas.height;</span><br><span class="line">    <span class="keyword">this</span>.cols   = <span class="built_in">Math</span>.floor(<span class="keyword">this</span>.w / <span class="keyword">this</span>.m);</span><br><span class="line">    <span class="keyword">this</span>.rows   = <span class="built_in">Math</span>.floor(<span class="keyword">this</span>.h / <span class="keyword">this</span>.m);</span><br><span class="line">    <span class="keyword">this</span>.pointW = <span class="number">6</span>;</span><br><span class="line">    <span class="keyword">this</span>.x      = <span class="number">50</span>;</span><br><span class="line">    <span class="keyword">this</span>.y      = <span class="number">350</span>;</span><br><span class="line">    <span class="keyword">this</span>.rectW  = <span class="number">40</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//设置原型对象</span></span><br><span class="line">RectChart.prototype = &#123;</span><br><span class="line">    <span class="keyword">constructor</span>:RectChart,</span><br><span class="line">    init:function(rects)&#123;</span><br><span class="line">        <span class="keyword">this</span>.rects = rects;</span><br><span class="line">        <span class="keyword">this</span>.drawGrid();</span><br><span class="line">        <span class="keyword">this</span>.drawAxis();</span><br><span class="line">        <span class="keyword">this</span>.drawRect();</span><br><span class="line">    &#125;,</span><br><span class="line">    drawGrid:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">//002 设置路径</span></span><br><span class="line">        <span class="comment">//[1] 绘制所有的行</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">1</span> ; i &lt; <span class="keyword">this</span>.rows ; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>.ctx.moveTo(<span class="number">0</span>,(i * <span class="keyword">this</span>.m)+<span class="number">0.5</span>);</span><br><span class="line">            <span class="keyword">this</span>.ctx.lineTo(<span class="keyword">this</span>.w,(i * <span class="keyword">this</span>.m)+<span class="number">0.5</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//[2] 绘制所有的列</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">1</span> ; j &lt; <span class="keyword">this</span>.cols ; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">this</span>.ctx.moveTo((j * <span class="keyword">this</span>.m) + <span class="number">0.5</span>,<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">this</span>.ctx.lineTo((j * <span class="keyword">this</span>.m) + <span class="number">0.5</span>,<span class="keyword">this</span>.h);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//003 绘制网格</span></span><br><span class="line">        <span class="keyword">this</span>.ctx.strokeStyle = <span class="string">"#ddd"</span>;</span><br><span class="line">        <span class="keyword">this</span>.ctx.stroke();</span><br><span class="line">    &#125;,</span><br><span class="line">    drawAxis:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">//004 绘制坐标(横坐标和纵坐标 X-Y)</span></span><br><span class="line">        <span class="keyword">var</span> x = <span class="keyword">this</span>.x,</span><br><span class="line">            y = <span class="keyword">this</span>.y,</span><br><span class="line">            xl = <span class="number">650</span>,</span><br><span class="line">            yl = <span class="number">300</span>,</span><br><span class="line">            m  = <span class="keyword">this</span>.m;</span><br><span class="line">        <span class="keyword">this</span>.ctx.beginPath();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//绘制X轴坐标</span></span><br><span class="line">        <span class="keyword">this</span>.ctx.moveTo(x,y);</span><br><span class="line">        <span class="keyword">this</span>.ctx.lineTo(x + xl,y);</span><br><span class="line">        <span class="keyword">this</span>.ctx.lineTo(x + xl - m,y - m/<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">this</span>.ctx.lineTo(x + xl - m,y - m/<span class="number">2</span> + m);</span><br><span class="line">        <span class="keyword">this</span>.ctx.lineTo(x + xl,y);</span><br><span class="line">        <span class="keyword">this</span>.ctx.fill();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//绘制Y轴坐标</span></span><br><span class="line">        <span class="keyword">this</span>.ctx.moveTo(x,y);</span><br><span class="line">        <span class="keyword">this</span>.ctx.lineTo(x,y - yl);</span><br><span class="line">        <span class="keyword">this</span>.ctx.lineTo(x - m/<span class="number">2</span>,y - yl + m);</span><br><span class="line">        <span class="keyword">this</span>.ctx.lineTo(x - m/<span class="number">2</span> + m,y - yl + m);</span><br><span class="line">        <span class="keyword">this</span>.ctx.lineTo(x,y - yl);</span><br><span class="line">        <span class="keyword">this</span>.ctx.fill();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.ctx.strokeStyle = <span class="string">"#000"</span>;</span><br><span class="line">        <span class="keyword">this</span>.ctx.stroke();</span><br><span class="line">    &#125;,</span><br><span class="line">    drawRect:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> self = <span class="keyword">this</span>;</span><br><span class="line">        <span class="comment">//绘制坐标点的每条连接线</span></span><br><span class="line">        <span class="keyword">this</span>.ctx.beginPath();</span><br><span class="line">        <span class="keyword">this</span>.rects.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">rect</span>)</span>&#123;</span><br><span class="line">            self.ctx.fillStyle = rect.color;</span><br><span class="line">            self.ctx.fillRect(rect.x,self.y - rect.h,self.rectW,rect.h);</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="keyword">this</span>.ctx.strokeStyle = <span class="string">"#000"</span>;</span><br><span class="line">        <span class="keyword">this</span>.ctx.stroke();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//准备绘制数据</span></span><br><span class="line"><span class="keyword">var</span> rects = [</span><br><span class="line">    &#123;<span class="attr">x</span>:<span class="number">100</span>,<span class="attr">h</span>:<span class="number">50</span>,<span class="attr">color</span>:<span class="string">"red"</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">x</span>:<span class="number">200</span>,<span class="attr">h</span>:<span class="number">250</span>,<span class="attr">color</span>:<span class="string">"pink"</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">x</span>:<span class="number">300</span>,<span class="attr">h</span>:<span class="number">120</span>,<span class="attr">color</span>:<span class="string">"#195"</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">x</span>:<span class="number">400</span>,<span class="attr">h</span>:<span class="number">300</span>,<span class="attr">color</span>:<span class="string">"#47e"</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">x</span>:<span class="number">500</span>,<span class="attr">h</span>:<span class="number">20</span>,<span class="attr">color</span>:<span class="string">"#302"</span>&#125;</span><br><span class="line">  ]</span><br><span class="line"></span><br><span class="line"><span class="comment">//调用构造函数绘制</span></span><br><span class="line"><span class="keyword">new</span> RectChart().init(rects);</span><br></pre></td></tr></table></figure>
<h3 id="Non-Zero-Winding-Number-Rule-amp-Odd-even-Rule"><a href="#Non-Zero-Winding-Number-Rule-amp-Odd-even-Rule" class="headerlink" title="Non-Zero Winding Number Rule &amp; Odd-even Rule"></a>Non-Zero Winding Number Rule &amp; Odd-even Rule</h3><p><img src="https://github.com/flowerField/Source/blob/master/Blog/canvas_10.png?raw=true" width="300px"></p>
<p><div class="titleX"><strong>非零正交(环绕)原则</strong></div><br>我们在使用绘图上下文对象的<code>fill</code>方法进行填充绘制的时候，如果传递参数(<code>nonzero</code>)或默认不传递任何参数，那么在填充的时候使用<strong>非零正交(环绕)原则</strong>。</p>
<blockquote>
<p><strong>非零正交(环绕)原则 · 规则</strong><br>❐ 在路径包围的区域中，向外发射一条和所有围绕它的边相交的射线<br>❐ 开启一个计数器，计数器的初始值为0<br>❐ 如果这个射线遇到顺时针围绕，那么计数器 +1<br>❐ 如果这个射线遇到顺时针围绕，那么计数器 -1<br>❐ 如果最终计数器的值非〇，则这块区域在路径内浏览器会对其进行填充。</p>
</blockquote>
<p>这里我们可以给出两个非零正交(环绕)原则应用的典型案例-绘制镂空矩形和圆环。<br><img src="https://github.com/flowerField/Source/blob/master/Blog/canvas_11.png?raw=true" width="300px"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"canvas"</span>);</span><br><span class="line"><span class="keyword">var</span> ctx    = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//绘制正方形(顺时针)</span></span><br><span class="line">ctx.moveTo(<span class="number">50</span>,<span class="number">50</span>);</span><br><span class="line">ctx.lineTo(<span class="number">150</span>,<span class="number">50</span>);</span><br><span class="line">ctx.lineTo(<span class="number">150</span>,<span class="number">150</span>);</span><br><span class="line">ctx.lineTo(<span class="number">50</span>,<span class="number">150</span>);</span><br><span class="line">ctx.lineTo(<span class="number">50</span>,<span class="number">50</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//绘制正方形(逆时针)</span></span><br><span class="line">ctx.moveTo(<span class="number">75</span>,<span class="number">75</span>);</span><br><span class="line">ctx.lineTo(<span class="number">75</span>,<span class="number">125</span>);</span><br><span class="line">ctx.lineTo(<span class="number">125</span>,<span class="number">125</span>);</span><br><span class="line">ctx.lineTo(<span class="number">125</span>,<span class="number">75</span>);</span><br><span class="line">ctx.lineTo(<span class="number">75</span>,<span class="number">75</span>);</span><br><span class="line"><span class="comment">//设置填充(非零正交原则)</span></span><br><span class="line">ctx.fillStyle = <span class="string">"#299"</span>;</span><br><span class="line">ctx.fill();</span><br><span class="line"></span><br><span class="line"><span class="comment">//绘制圆环</span></span><br><span class="line">ctx.beginPath();</span><br><span class="line">ctx.arc(<span class="number">300</span>,<span class="number">100</span>,<span class="number">60</span>,<span class="number">0</span>,<span class="number">2</span> * <span class="built_in">Math</span>.PI,<span class="literal">false</span>);</span><br><span class="line">ctx.arc(<span class="number">300</span>,<span class="number">100</span>,<span class="number">40</span>,<span class="number">0</span>,<span class="number">2</span> * <span class="built_in">Math</span>.PI,<span class="literal">true</span>);</span><br><span class="line">ctx.fillStyle = <span class="string">"rgba(250,50,79,1)"</span>;</span><br><span class="line">ctx.fill();</span><br></pre></td></tr></table></figure>
<p><div class="titleX"><strong>奇偶填充原则</strong></div><br>我们在使用绘图上下文对象的<code>fill</code>方法进行填充绘制的时候，如果传递参数(<code>evenodd</code>)那么在填充的时候使用<strong>奇偶填充原则</strong>。</p>
<blockquote>
<p><strong>奇偶填充原则 · 规则</strong><br>❐ 在路径包围的区域中，向外发射一条和所有围绕它的边相交的射线<br>❐ 查看相交线的个数，如果为奇数，就填充，如果是偶数，就不填充。</p>
</blockquote>
<p><img src="https://github.com/flowerField/Source/blob/master/Blog/canvas_12.png?raw=true" width="300px"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> canvas  = <span class="built_in">document</span>.getElementById(<span class="string">'canvas'</span>);</span><br><span class="line"><span class="keyword">var</span> ctx     = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line"><span class="keyword">var</span> x = ctx.canvas.width / <span class="number">2</span>,</span><br><span class="line">    y = ctx.canvas.height/ <span class="number">2</span>,</span><br><span class="line">    r = <span class="number">50</span>,</span><br><span class="line">    start = - <span class="built_in">Math</span>.PI / <span class="number">2</span>,</span><br><span class="line">    end = <span class="built_in">Math</span>.PI * <span class="number">3</span> / <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">ctx.arc(x, y, r, start, end);</span><br><span class="line">ctx.fillStyle = <span class="string">"#000"</span>;</span><br><span class="line">ctx.fill();</span><br><span class="line">ctx.beginPath();</span><br><span class="line">ctx.moveTo(x, y - r);</span><br><span class="line">ctx.lineTo(x - r * <span class="built_in">Math</span>.sin(<span class="built_in">Math</span>.PI / <span class="number">5</span>), y + r * <span class="built_in">Math</span>.cos(<span class="built_in">Math</span>.PI / <span class="number">5</span>));</span><br><span class="line">ctx.lineTo(x + r * <span class="built_in">Math</span>.cos(<span class="built_in">Math</span>.PI / <span class="number">10</span>), y - r * <span class="built_in">Math</span>.sin(<span class="built_in">Math</span>.PI / <span class="number">10</span>));</span><br><span class="line">ctx.lineTo(x - r * <span class="built_in">Math</span>.cos(<span class="built_in">Math</span>.PI / <span class="number">10</span>), y - r * <span class="built_in">Math</span>.sin(<span class="built_in">Math</span>.PI / <span class="number">10</span>));</span><br><span class="line">ctx.lineTo(x + r * <span class="built_in">Math</span>.sin(<span class="built_in">Math</span>.PI / <span class="number">5</span>), y + r * <span class="built_in">Math</span>.cos(<span class="built_in">Math</span>.PI / <span class="number">5</span>));</span><br><span class="line">ctx.fillStyle = <span class="string">"#fff"</span>;</span><br><span class="line">ctx.fill();</span><br><span class="line"></span><br><span class="line">ctx.beginPath();</span><br><span class="line">ctx.arc(x + <span class="number">150</span>, y, r, start, end);</span><br><span class="line">ctx.fillStyle = <span class="string">"#000"</span>;</span><br><span class="line">ctx.fill();</span><br><span class="line">ctx.beginPath();</span><br><span class="line">ctx.moveTo(x + <span class="number">150</span>, y - r);</span><br><span class="line">ctx.lineTo(x + <span class="number">150</span> - r * <span class="built_in">Math</span>.sin(<span class="built_in">Math</span>.PI / <span class="number">5</span>), y + r * <span class="built_in">Math</span>.cos(<span class="built_in">Math</span>.PI / <span class="number">5</span>));</span><br><span class="line">ctx.lineTo(x + <span class="number">150</span> + r * <span class="built_in">Math</span>.cos(<span class="built_in">Math</span>.PI / <span class="number">10</span>), y - r * <span class="built_in">Math</span>.sin(<span class="built_in">Math</span>.PI / <span class="number">10</span>));</span><br><span class="line">ctx.lineTo(x + <span class="number">150</span> - r * <span class="built_in">Math</span>.cos(<span class="built_in">Math</span>.PI / <span class="number">10</span>), y - r * <span class="built_in">Math</span>.sin(<span class="built_in">Math</span>.PI / <span class="number">10</span>));</span><br><span class="line">ctx.lineTo(x + <span class="number">150</span> + r * <span class="built_in">Math</span>.sin(<span class="built_in">Math</span>.PI / <span class="number">5</span>), y + r * <span class="built_in">Math</span>.cos(<span class="built_in">Math</span>.PI / <span class="number">5</span>));</span><br><span class="line">ctx.fillStyle = <span class="string">"#fff"</span>;</span><br><span class="line">ctx.fill(<span class="string">'evenodd'</span>);</span><br></pre></td></tr></table></figure>
<hr>
<ul>
<li>Posted by 博客园·<a href="http://www.cnblogs.com/wendingding/" target="_blank" rel="noopener">文顶顶</a> | <a href="http://wendingding.com" target="_blank" rel="noopener">花田半亩</a></li>
<li>联系作者 简书·<a href="http://www.jianshu.com/users/c5703017b9f5/latest_articleshttp://www.jianshu.com/users/c5703017b9f5/latest_articles" target="_blank" rel="noopener">文顶顶</a> 新浪微博·<a href="http://weibo.com/p/1005053800117445/home?from=page_100505&amp;mod=TAB#place">Coder_文顶顶</a></li>
<li>原创文章，版权声明：自由转载-非商用-非衍生-保持署名 | <a href="http://www.cnblogs.com/wendingding/" target="_blank" rel="noopener">文顶顶</a></li>
</ul>
</div></article></div></main><footer><div class="paginator"><a href="/2019/01/03/javaScript系列 [12]-Canvas绘图(曲线)/" class="prev">上一篇</a><a href="/2019/01/01/javaScript系列 [10]-Canvas绘图(基础)/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2019 <a href="https://weibo.com/u/3800117445">文顶顶</a> &nbsp;☁ 全站字数统计 354.4k (字)</p><div class="topDiv"><div><img src="https://raw.githubusercontent.com/flowerField/Source/master/Blog/M.png" style="width:100px;height:100px"> </div></div><!--p © #{year} #[a(href=config.url)!= config.author], powered by #[a(href=hexoURL, target="_blank") Hexo] and #[a(href=apolloURL, target="_blank") hexo-theme-apollo].--></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>