<!DOCTYPE html><html lang="zh-Hans"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> javaScript系列 [25]-Date · 花田半亩</title><meta name="description" content="javaScript系列 [25]-Date - 文顶顶"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/logo.jpeg"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://weibo.com/u/3800117445/atom.xml" title="花田半亩"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/鲸鱼.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">文顶顶</a></li><li class="nav-list-item"><a href="/tags/" target="_self" class="nav-list-link">标签</a></li><li class="nav-list-item"><a href="https://www.cnblogs.com/wendingding/" target="_blank" class="nav-list-link">博客园</a></li><li class="nav-list-item"><a href="https://github.com/flowerField" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">javaScript系列 [25]-Date</h1><div class="post-info">Apr 17, 2019<span class="post-count"></span> ✧ 字数统计:3,510(字) &nbsp;&nbsp; ♨︎ 阅读时长:15(分钟)</div><div class="post-content"><p><img src="https://github.com/flowerField/Source/blob/master/Blog/time_05.jpeg?raw=true" height="200px"></p>
<div class="tip">本文介绍JavaScript中的内置对象Date，时间相关的基本常识，以及Date的常用方法，此外还简单介绍了定时器的相关知识点。</div>

<p class="titleX"><strong>日期类型Date简单介绍</strong></p>

<p><a href="">Date对象</a>是JavaScript语言中内置的数据类型，日期实例对象通常都通过Date构造函数来创建。</p>
<p>[Date对象]相关的方法非常多，但总体来说这些方法大概可以分成两类，即对( 日期 )时间进行设置和读取操作，具体的操作则会涉及到时间的<code>年-月-日 时-分-秒-毫秒以及星期</code>等维度。因为在编码中操作的时间可能是本地时间或<a href="">UTC世界时间(GMT)</a>，因此Date对象几乎提供了两套相同用处的方法( <code>方法名中有UTC的表示操作的是世界时间，没有UTC的表示操作的是本地时间</code> )。</p>
<p>本文会先简单列出Date对象的相关方法，然后再具体讲解日期对象的创建、开发中常见的处理场景以及核心方法的使用。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.dir(<span class="built_in">Date</span>) </span><br><span class="line">ƒ <span class="built_in">Date</span>()</span><br><span class="line">    UTC: ƒ UTC()                  <span class="comment">/*将Date转换为毫秒格式 参照1970-01-01午夜(GMT)*/</span></span><br><span class="line">    <span class="built_in">arguments</span>: (...)</span><br><span class="line">    caller: (...)</span><br><span class="line">    length: <span class="number">7</span>                     <span class="comment">/*Date构造函数的形参个数*/</span></span><br><span class="line">    name: <span class="string">"Date"</span>                  <span class="comment">/*Date构造函数的名字*/</span></span><br><span class="line">    now: ƒ now()                  <span class="comment">/*以毫秒形式返回当前时间*/</span></span><br><span class="line">    parse: ƒ parse()              <span class="comment">/*解析一个日期/时间字符串*/</span></span><br><span class="line">    prototype:                    <span class="comment">/*Date构造函数原型对象的成员*/</span></span><br><span class="line">        <span class="keyword">constructor</span>: ƒ Date()</span><br><span class="line">        getDate: ƒ getDate()                      /*返回日期值*/</span><br><span class="line">        getDay: ƒ getDay()                        /*返回星期值*/</span><br><span class="line">        getFullYear: ƒ getFullYear()              /*返回年份值*/</span><br><span class="line">        getHours: ƒ getHours()                    /*返回小时值*/</span><br><span class="line">        getMilliseconds: ƒ getMilliseconds()      /*返回毫秒值*/</span><br><span class="line">        getMinutes: ƒ getMinutes()                /*返回分钟值*/</span><br><span class="line">        getMonth: ƒ getMonth()                    /*返回月份值*/</span><br><span class="line">        getSeconds: ƒ getSeconds()                /*返回秒钟值*/</span><br><span class="line">        getTime: ƒ getTime()                      /*返回时间戳(毫秒形式的时间)*/</span><br><span class="line">        getTimezoneOffset: ƒ getTimezoneOffset()  /*返回与GMT的时间差*/</span><br><span class="line">        getUTCDate: ƒ getUTCDate()                /*返回日期值(全球时间)*/</span><br><span class="line">        getUTCDay: ƒ getUTCDay()                  /*返回星期值(全球时间)*/</span><br><span class="line">        getUTCFullYear: ƒ getUTCFullYear()        /*返回年份值(全球时间)*/</span><br><span class="line">        getUTCHours: ƒ getUTCHours()              /*返回小时值(全球时间)*/</span><br><span class="line">        getUTCMilliseconds: ƒ getUTCMilliseconds()/*返回毫秒值(全球时间)*/</span><br><span class="line">        getUTCMinutes: ƒ getUTCMinutes()          /*返回分钟值(全球时间)*/</span><br><span class="line">        getUTCMonth: ƒ getUTCMonth()              /*返回月份值(全球时间)*/</span><br><span class="line">        getUTCSeconds: ƒ getUTCSeconds()          /*返回秒钟值(全球时间)*/</span><br><span class="line">        getYear: ƒ getYear()                      /*返回年份值 = 当前年份-1900*/</span><br><span class="line">        setDate: ƒ setDate()                      /*设置日期*/</span><br><span class="line">        setFullYear: ƒ setFullYear()              /*设置年份、可选的月份和日期*/</span><br><span class="line">        setHours: ƒ setHours()                    /*设置时间的小时，可选的分钟、秒以及毫秒*/</span><br><span class="line">        setMilliseconds: ƒ setMilliseconds()      /*设置时间的毫秒值*/</span><br><span class="line">        setMinutes: ƒ setMinutes()                /*设置时间的分钟、可选的秒钟以及毫秒*/</span><br><span class="line">        setMonth: ƒ setMonth()                    /*设置时间的月份和日期*/</span><br><span class="line">        setSeconds: ƒ setSeconds()                /*设置时间的秒钟和可选的毫秒*/</span><br><span class="line">        setTime: ƒ setTime()                      /*使用毫秒值来设置时间*/</span><br><span class="line">        setUTCDate: ƒ setUTCDate()                /*设置日期值(全球时间)*/</span><br><span class="line">        setUTCFullYear: ƒ setUTCFullYear()        /*设置年，可选的月份和日期(全球时间)*/</span><br><span class="line">        setUTCHours: ƒ setUTCHours()              /*设置小时，可选的分钟、秒钟和毫秒(全球时间)*/</span><br><span class="line">        setUTCMilliseconds: ƒ setUTCMilliseconds()/*设置毫秒值(全球时间)*/</span><br><span class="line">        setUTCMinutes: ƒ setUTCMinutes()          /*设置分钟、可选的秒钟和毫秒(全球时间)*/</span><br><span class="line">        setUTCMonth: ƒ setUTCMonth()              /*设置月份和日期(全球时间)*/</span><br><span class="line">        setUTCSeconds: ƒ setUTCSeconds()          /*设置秒钟和毫秒(全球时间)*/</span><br><span class="line">        setYear: ƒ setYear()                      /*设置年份*/</span><br><span class="line">        toDateString: ƒ toDateString()            /*以字符串的形式返回日期*/</span><br><span class="line">        toGMTString: ƒ toUTCString()              /*转换为全球时间表示的字符串*/</span><br><span class="line">        toISOString: ƒ toISOString()              /*转换为ISO-8601格式的字符串*/</span><br><span class="line">        toJSON: ƒ toJSON()                        /*JSON序列化日期对象*/</span><br><span class="line">        toLocaleDateString: ƒ toLocaleDateString()/*返回本地格式的日期字符*/</span><br><span class="line">        toLocaleString: ƒ toLocaleString()        /*转换为本地格式的字符串*/</span><br><span class="line">        toLocaleTimeString: ƒ toLocaleTimeString()/*转换为本地格式表示的Date时间部分*/</span><br><span class="line">        toString: ƒ toString()                    /*转换为字符串*/</span><br><span class="line">        toTimeString: ƒ toTimeString()            /*以字符串形式返回date的时间部分*/</span><br><span class="line">        toUTCString: ƒ toUTCString()              /*转换为字符串(全球时间)*/</span><br><span class="line">        valueOf: ƒ valueOf()                      /*获取日期的时间戳 等价于getTime()*/</span><br><span class="line">        Symbol(Symbol.toPrimitive): ƒ [Symbol.toPrimitive]()</span><br><span class="line">        __proto__: Object</span><br><span class="line">    __proto__: ƒ ()</span><br><span class="line">    [[Scopes]]: Scopes[0]</span><br></pre></td></tr></table></figure>
<p><div class="titleX"><strong>日期类型Date的基本使用</strong></div><br><span style="border:1px solid #ccc;padding:2px 10px;color:#fff;background:#F95">创建Date实例对象</span></p>
<p>通常我们使用构造函数Date来获取日期(时间)实例对象，在调用构造函数的时候有多种传参方式。</p>
<p><code>new Date()</code>             根据当前时间来创建Date实例。<br><code>new Date(milliseconds)</code> 根据 <a href="">时间戳</a> (毫秒计数的纯数字)来创建Date实例。<br><code>new Date(dateString)</code>   根据特殊格式的日期字符串也能创建Date实例。<br><code>new Date(year,month,[day],[hours],[minutes],[seconds],[ms])</code> 根据年月日时分秒来创建实例。 </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*日期Date实例的创建的N种方式*/</span></span><br><span class="line"><span class="comment">/*01-获取当前时间*/</span></span><br><span class="line"><span class="keyword">var</span> time1 = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">/*02-根据时间戳来创建Date对象*/</span></span><br><span class="line"><span class="keyword">var</span> milliseconds = time1.getTime();</span><br><span class="line"><span class="keyword">var</span> time2 = <span class="keyword">new</span> <span class="built_in">Date</span>(milliseconds);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*03-传入7个参数(年月日时分秒和毫秒创建)*/</span></span><br><span class="line"><span class="keyword">var</span> time3 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2019</span>,<span class="number">5</span>,<span class="number">20</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*04-根据固定格式的日期字符串来创建*/</span></span><br><span class="line"><span class="keyword">var</span> dateString1 = <span class="string">"2019-09-01"</span>;</span><br><span class="line"><span class="keyword">var</span> dateString2 = <span class="string">"2019/09/02"</span>;</span><br><span class="line"><span class="keyword">var</span> dateString3 = <span class="string">"October 13, 1975 11:13:00"</span>;</span><br><span class="line"><span class="keyword">var</span> time4 = <span class="keyword">new</span> <span class="built_in">Date</span>(dateString1);</span><br><span class="line"><span class="keyword">var</span> time5 = <span class="keyword">new</span> <span class="built_in">Date</span>(dateString2);</span><br><span class="line"><span class="keyword">var</span> time6 = <span class="keyword">new</span> <span class="built_in">Date</span>(dateString3)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*05-Date在调用的时候可以缺省new关键字*/</span></span><br><span class="line"><span class="keyword">var</span> time7 = <span class="built_in">Date</span>();     <span class="comment">//获取的是当前的时间</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*日期对象中包含的信息主要有：年、月、日、时、分、秒、毫秒、星期和时区*/</span></span><br><span class="line"><span class="built_in">console</span>.log(time1);     <span class="comment">//Wed Apr 17 2019 10:54:24 GMT+0800 (中国标准时间)</span></span><br><span class="line"><span class="built_in">console</span>.log(time2);     <span class="comment">//Wed Apr 17 2019 10:54:24 GMT+0800 (中国标准时间)</span></span><br><span class="line"><span class="built_in">console</span>.log(time3);     <span class="comment">//Thu Jun 20 2019 01:03:01 GMT+0800 (中国标准时间)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(time4);     <span class="comment">//Sun Sep 01 2019 08:00:00 GMT+0800 (中国标准时间)</span></span><br><span class="line"><span class="built_in">console</span>.log(time5);     <span class="comment">//Mon Sep 02 2019 00:00:00 GMT+0800 (中国标准时间)</span></span><br><span class="line"><span class="built_in">console</span>.log(time6);     <span class="comment">//Mon Oct 13 1975 11:13:00 GMT+0800 (中国标准时间)</span></span><br><span class="line"><span class="built_in">console</span>.log(time7);     <span class="comment">//Wed Apr 17 2019 11:04:59 GMT+0800 (中国标准时间)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*把本地时间转换为GMT全球时间格式打印*/</span></span><br><span class="line">time5.toUTCString();    <span class="comment">//"Sun, 01 Sep 2019 16:00:00 GMT"</span></span><br></pre></td></tr></table></figure>
<p><span style="border:1px solid #ccc;padding:2px 10px;color:#fff;background:#F95">获取并格式化时间</span></p>
<p>在开发中我们经常需要以特定的格式来表示时间，譬如<code>2008-08-08 08：08：08</code> 或者是<code>2008/08/08</code>。其实参考上文的代码，我们发现Date对象为我们提供了一大堆方法来获取Date实例中具体的年月日时分秒等数值，通过调用这些方法我们可以把日期格式化成任何我们想要的形式。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*01-获取当前的Date时间对象*/</span></span><br><span class="line"><span class="keyword">var</span> date  = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">/*02-获取具体的每个值*/</span></span><br><span class="line"><span class="keyword">var</span> year  = date.getFullYear();       <span class="comment">/*年*/</span></span><br><span class="line"><span class="keyword">var</span> month = date.getMonth()+<span class="number">1</span>;        <span class="comment">/*月*/</span></span><br><span class="line"><span class="keyword">var</span> day   = date.getDate();           <span class="comment">/*日*/</span></span><br><span class="line"><span class="keyword">var</span> hour  = date.getHours();          <span class="comment">/*时*/</span></span><br><span class="line"><span class="keyword">var</span> min   = date.getMinutes();        <span class="comment">/*分*/</span></span><br><span class="line"><span class="keyword">var</span> sec   = date.getSeconds();        <span class="comment">/*秒*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*03-按照固定的格式拼接*/</span></span><br><span class="line"><span class="keyword">var</span> res = year + <span class="string">'-'</span> + month + <span class="string">'-'</span> + day + <span class="string">' '</span> + hour + <span class="string">':'</span> + min + <span class="string">':'</span> + sec;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*2019-4-17 11:31:18*/</span></span><br><span class="line"><span class="built_in">console</span>.log(res);</span><br></pre></td></tr></table></figure>
<p> 在上面的代码中，我们把当前的日期对象转换成了固定格式的字符串<code>2019-4-17 11:31:18</code>，其实除了像上面那样拼接外我们还可以简单的通过数组的<code>join()</code>方法来执行格式化操作。此外，有时候我们可能需要保证年月日时分秒等占两位，即上面的时间应该表示为<code>2019-04-17 11:31:18</code>，那么可能还需要对某些数据执行 <a href="">补零操作</a>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*00-封装补零的方法*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">prefixInteger</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (<span class="built_in">Array</span>(<span class="number">2</span>).join(<span class="string">'0'</span>) + num).slice(<span class="number">-2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*01-获取当前的Date时间对象*/</span></span><br><span class="line"><span class="keyword">var</span> date  = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">/*02-获取具体的每个值*/</span></span><br><span class="line"><span class="keyword">var</span> year  = date.getFullYear();       <span class="comment">/*年*/</span></span><br><span class="line"><span class="keyword">var</span> month = prefixInteger(date.getMonth()+<span class="number">1</span>);        <span class="comment">/*月*/</span></span><br><span class="line"><span class="keyword">var</span> day   = prefixInteger(date.getDate());           <span class="comment">/*日*/</span></span><br><span class="line"><span class="keyword">var</span> hour  = prefixInteger(date.getHours());          <span class="comment">/*时*/</span></span><br><span class="line"><span class="keyword">var</span> min   = prefixInteger(date.getMinutes());        <span class="comment">/*分*/</span></span><br><span class="line"><span class="keyword">var</span> sec   = prefixInteger(date.getSeconds());        <span class="comment">/*秒*/</span></span><br><span class="line"><span class="keyword">var</span> week  = date.getDay();                            <span class="comment">/*星期 0~6*/</span></span><br><span class="line"><span class="keyword">var</span> weStr = <span class="string">'日一二三四五六'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*03-按照固定的格式拼接*/</span></span><br><span class="line"><span class="keyword">var</span> arr = [];</span><br><span class="line">arr.push(year + <span class="string">"-"</span>);</span><br><span class="line">arr.push(month + <span class="string">"-"</span>);</span><br><span class="line">arr.push(day + <span class="string">" "</span>);</span><br><span class="line">arr.push(hour + <span class="string">":"</span>);</span><br><span class="line">arr.push(min + <span class="string">":"</span>);</span><br><span class="line">arr.push(sec + <span class="string">" "</span>);</span><br><span class="line">arr.push(<span class="string">"星期"</span>+ weStr[week]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> res = arr.join(<span class="string">""</span>)</span><br><span class="line"><span class="built_in">console</span>.log(res);       <span class="comment">/*2019-04-17 11:56:12 星期三*/</span></span><br></pre></td></tr></table></figure>
<p><span style="border:1px solid #ccc;padding:2px 10px;color:#fff;background:#F95">Date对象的常用方法</span></p>
<p><code>toUTCString()</code> 方法把时间转换成UTC时间。</p>
<p><code>Date.now()</code> 方法返回执行这行代码时距 1970-01-01 0点的毫秒数。</p>
<p><code>Date.parse()</code> 返回指定日期距1970-01-01 0点的毫秒数，默认支持<code>年-月-日</code>或<code>年/月/日</code>格式。</p>
<p><code>toLocaleDateString()</code> 方法以特定的地区格式显示年、月、日。</p>
<p><code>getTime() | setTime()</code> 方法用来获取 | 修改某个日期自1970年1月1日0时以来的毫秒数(时间戳)。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*获取当前时间*/</span></span><br><span class="line"><span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">/*傻傻分不清楚的时间字符串*/</span></span><br><span class="line"><span class="built_in">console</span>.log(date);                     <span class="comment">//Wed Apr 17 2019 15:19:03 GMT+0800 (中国标准时间)</span></span><br><span class="line"><span class="built_in">console</span>.log(date.toDateString());       <span class="comment">//Wed Apr 17 2019</span></span><br><span class="line"><span class="built_in">console</span>.log(date.toISOString());        <span class="comment">//2019-04-17T07:19:03.303Z</span></span><br><span class="line"><span class="built_in">console</span>.log(date.toLocaleTimeString()); <span class="comment">//下午3:19:03</span></span><br><span class="line"><span class="built_in">console</span>.log(date.toLocaleDateString()); <span class="comment">//2019/4/17</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*获取时间戳*/</span></span><br><span class="line"><span class="built_in">console</span>.log(date.getTime());            <span class="comment">//1555485543303</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Date</span>.parse(<span class="string">"2008-08-08"</span>));  <span class="comment">//1218153600000</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Date</span>.parse(<span class="string">"2008/08/08"</span>));  <span class="comment">//1218124800000</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*把时间戳转换为时间字符串格式*/</span></span><br><span class="line"><span class="keyword">var</span> resDate = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="built_in">Date</span>.parse(<span class="string">"2008/08/08"</span>));</span><br><span class="line"><span class="built_in">console</span>.log(resDate);                   <span class="comment">//Fri Aug 08 2008 00:00:00 GMT+0800 (中国标准时间)</span></span><br></pre></td></tr></table></figure>
<p><strong><code>示例</code></strong> 给定两个日期，计算它们之间间隔的天数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*01-提供两个时间(注意格式)*/</span></span><br><span class="line"><span class="keyword">var</span> start = <span class="string">"2019-04-01"</span>;</span><br><span class="line"><span class="keyword">var</span> end   = <span class="string">"2019-04-22"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*02-计算两个时间见的差值 毫秒数据*/</span></span><br><span class="line"><span class="keyword">var</span> offset = <span class="built_in">Date</span>.parse(end) - <span class="built_in">Date</span>.parse(start);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*03-把差值转换为天数*/</span></span><br><span class="line"><span class="keyword">var</span> days = <span class="built_in">Math</span>.ceil(offset/<span class="number">1000</span>/<span class="number">60</span>/<span class="number">60</span>/<span class="number">24</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*04-拼接并输出*/</span></span><br><span class="line"><span class="keyword">var</span> res = start +<span class="string">' 至 '</span>+ end + <span class="string">' 还差：'</span> + days + <span class="string">"天"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(res);   <span class="comment">//2019-04-01 至 2019-04-22 还差：21天</span></span><br></pre></td></tr></table></figure>
<p class="titleX"><strong>定时器和延迟执行</strong></p>

<p>JavaScript中提供了专门的定时器和延迟执行的方法，我们简单介绍下它们的基本语法。</p>
<p><span style="border:1px solid #ccc;padding:2px 10px;color:#fff;background:#F95">延迟执行函数</span></p>
<p><strong><code>语法</code></strong> <code>setTimeout(code,millisec)</code><br><strong><code>作用</code></strong> <code>setTimeout()</code>方法用于在指定的毫秒数后调用函数或计算表达式<br><strong><code>说明</code></strong> <code>setTimeout()</code>方法只会执行 code 一次。<br><strong><code>取消</code></strong> 当延迟执行函数启动后可以通过调用对应的<code>clearTimeOut()</code>方法传入参数来关闭定时器。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*01-延迟执行函数的基本使用*/</span></span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">"start"</span>,<span class="keyword">new</span> <span class="built_in">Date</span>());</span><br><span class="line"> setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="comment">/*1秒钟后才执行回调函数中的代码*/</span></span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">"task"</span>,<span class="keyword">new</span> <span class="built_in">Date</span>());</span><br><span class="line"> &#125;,<span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">"end"</span>,<span class="keyword">new</span> <span class="built_in">Date</span>());</span><br><span class="line"></span><br><span class="line"> <span class="comment">//start Wed Apr 17 2019 14:49:38 GMT+0800 (中国标准时间)</span></span><br><span class="line"> <span class="comment">//end   Wed Apr 17 2019 14:49:38 GMT+0800 (中国标准时间)</span></span><br><span class="line"> <span class="comment">//task  Wed Apr 17 2019 14:49:39 GMT+0800 (中国标准时间)</span></span><br></pre></td></tr></table></figure>
<p><strong><code>示例</code></strong> 演示如果使用<code>setTimeout()</code>延迟执行函数来实现时钟的功能。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">onload</span>=<span class="string">"startTime()"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"demo"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">startTime</span>(<span class="params"></span>)</span></span></span><br><span class="line"><span class="undefined">  &#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">/*01-获取当前的时间*/</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>()</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="comment">/*02-获取时分秒等信息并格式化*/</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> h    = checkTime(date.getHours());</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> m    = checkTime(date.getMinutes());</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> s    = checkTime(date.getSeconds());</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="comment">/*03-输出到页面中显示出来*/</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>).innerHTML=h+<span class="string">":"</span>+m+<span class="string">":"</span>+s</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="comment">/*04-延迟执行 设置500毫秒后重新调用startTime方法 */</span></span></span><br><span class="line"><span class="javascript">    setTimeout(<span class="string">'startTime()'</span>,<span class="number">500</span>)</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="comment">/*用来保证时分秒占2位，不足则补零 */</span></span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">checkTime</span>(<span class="params">i</span>)</span></span></span><br><span class="line"><span class="undefined">  &#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> (i&lt;<span class="number">10</span>) i=<span class="string">"0"</span> + i</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> i</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><span style="border:1px solid #ccc;padding:2px 10px;color:#fff;background:#F95">定时器函数</span></p>
<p><strong><code>语法</code></strong> <code>setInterval(code,millisec[,&quot;lang&quot;])</code><br><strong><code>作用</code></strong> <code>setInterval()</code>方法会按照指定的周期（以毫秒计）来调用函数或计算表达式。<br><strong><code>说明</code></strong> <code>setInterval()</code>方法会不停地调用函数，直到 clearInterval() 被调用或窗口被关闭。<br><strong><code>取消</code></strong> 当定时器开启后可以通过调用对应的<code>clearInterval()</code>方法传入参数来关闭定时器。<br><strong><code>场景</code></strong> 定时器函数常被用来处理一些需要长时间执行的重复性工作，譬如轮播图。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*开启定时器*/</span></span><br><span class="line"><span class="keyword">var</span> timer = setInterval(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"--滴答--滴答--！"</span>);</span><br><span class="line">&#125;,<span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*取消定时器*/</span></span><br><span class="line"><span class="comment">// clearInterval(timer);</span></span><br><span class="line"><span class="comment">// 说明 上面的代码执行后每隔1秒就打印一次 "--滴答--滴答--！"</span></span><br></pre></td></tr></table></figure>
<p class="titleX"><strong>附录：时间有关的常识</strong></p>

<p><span class="prop" style="width:80px;background:#298;color:#fff">纪元</span> 纪元时间(<code>UNIX TIME</code>)指的是 1970-01-01 00:00:00 </p>
<p><span class="prop" style="width:80px;background:#295;color:#fff">GMT</span>格林尼治标准时间 (<code>Greenwich Mean Time</code>)，俗称“天文学时间”</p>
<p> 它根据地球的自转和公转来计算时间，也就是太阳每天经过位于英国伦敦郊区的皇家格林尼治天文台的时间就是中午12点，而地球的自转正在缓速变慢，所以时间误差比较大。<br><span class="prop" style="width:80px;background:#795;color:#fff">UTC</span> 世界协调时间 (<code>Universal Time Coordinated</code>)，又称为“原子物理时间”。</p>
<p>世界协调时间更加精确，50亿年才误差1秒。</p>
<p><span class="prop" style="width:80px;background:#198;color:#fff">闰年</span> 四年一闰，百年不闰，四百年再闰 </p>
<p> 闰年的作用是为了修正计时的偏差，地球绕太阳一周的准确时间是365天5小时48分46秒，用小数表示即365.24219天，为了方便我们平时计算一年使用的是365天，这样实际每年就会多出0.24219天，四年就多了一天，如果按四年年一润的算法，100年总共有25个闰年，但实际100年只多出24.219天，所以就有了百年不润的说法；因此，我们在判断闰年的法则为 <span style="color:red">① 能被4整除且不能被100整除的为闰年 ② 能被400整除的是闰年。</span></p>
<p><span class="prop" style="width:80px;background:#595;color:#fff">时区</span> 全球共被划分为24个时区，我们使用的是北京时间(东八区) </p>
<p> 为了克服时间上的混乱，1884年在华盛顿召开的一次国际经度会议（<code>国际子午线会议</code>）上，规定将全球划分为24个时区（东西各12个时区）。规定英国（格林尼治天文台旧址）为中时区（零时区）、东1-12区，西1-12区。每个时区横跨经度15度，时间正好是1小时</p>
<p><img src="https://github.com/flowerField/Source/blob/master/Blog/time_06.png?raw=true" height="400px"></p>
<hr>
<ul>
<li>Posted by 博客园·<a href="http://www.cnblogs.com/wendingding/" target="_blank" rel="noopener">文顶顶</a> | <a href="http://wendingding.com" target="_blank" rel="noopener">花田半亩</a></li>
<li>联系作者 简书·<a href="http://www.jianshu.com/users/c5703017b9f5/latest_articleshttp://www.jianshu.com/users/c5703017b9f5/latest_articles" target="_blank" rel="noopener">文顶顶</a> 新浪微博·<a href="http://weibo.com/p/1005053800117445/home?from=page_100505&amp;mod=TAB#place">Coder_文顶顶</a></li>
<li>原创文章，版权声明：自由转载-非商用-非衍生-保持署名 | <a href="http://www.cnblogs.com/wendingding/" target="_blank" rel="noopener">文顶顶</a></li>
</ul>
</div></article></div></main><footer><div class="paginator"><a href="/2019/04/18/javaScript系列 [26]-BOM/" class="prev">上一篇</a><a href="/2019/04/16/javaScript系列 [24]-JavaScript内置Math/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2020 <a href="https://weibo.com/u/3800117445">文顶顶</a> &nbsp;☁ 全站字数统计 376.8k (字)</p><div class="topDiv"><div><img src="https://raw.githubusercontent.com/flowerField/Source/master/Blog/M.png" style="width:100px;height:100px"> </div></div><!--p © #{year} #[a(href=config.url)!= config.author], powered by #[a(href=hexoURL, target="_blank") Hexo] and #[a(href=apolloURL, target="_blank") hexo-theme-apollo].--></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>