<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 微信小程序序列[09]-小程序中的基础组件(二) · 花田半亩</title><meta name="description" content="微信小程序序列[09]-小程序中的基础组件(二) - 文顶顶"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/logo.jpeg"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://weibo.com/u/3800117445/atom.xml" title="花田半亩"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/鲸鱼.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">文顶顶的BLOG</a></li><li class="nav-list-item"><a href="/tags/" target="_self" class="nav-list-link">标签</a></li><li class="nav-list-item"><a href="https://www.cnblogs.com/wendingding/" target="_blank" class="nav-list-link">博客园</a></li><li class="nav-list-item"><a href="http://weibo.com/p/1005053800117445/home?from=page_100505&amp;mod=TAB#place" target="_blank" class="nav-list-link">微博</a></li><li class="nav-list-item"><a href="http://blog.sina.com.cn/u/1910914290" target="_blank" class="nav-list-link">花田半亩</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">微信小程序序列[09]-小程序中的基础组件(二)</h1><div class="post-info">Sep 27, 2018<span class="post-count"></span> ✧ 字数统计:1,861(字) &nbsp;&nbsp; ♨︎ 阅读时长:8(分钟)</div><div class="post-content"><blockquote>
<p>本文介绍小程序中的基础组件，主要包括button、input等组件的基本使用和代码示例。</p>
</blockquote>
<h4 id="1-0-button组件"><a href="#1-0-button组件" class="headerlink" title="1.0 button组件"></a>1.0 button组件</h4><p>小程序中的<a href="https://developers.weixin.qq.com/miniprogram/dev/component/button.html" target="_blank" rel="external">button组件</a>就是按钮。</p>
<p><strong>这里列出button组件的主要属性</strong><br><span class="propWX-green bg-red">open-type</span>    微信开放能力。<br><span class="propWX-green bg-red">size</span>    按钮的大小，默认值为default，还能取值mini。<br><span class="propWX-green ">plain</span>     设置按钮是否镂空，布尔类型的值，默认为false。<br><span class="propWX-green bg-red">disabled</span>    是否禁用按钮，布尔类型的值，默认为false。<br><span class="propWX-green">loading</span>    名称的前面是否设置加载icon,默认为false。<br><span class="propWX-green bg-red">form-type</span>    用来触发form表单中的submit和reset事件。<br><span class="propWX-green">hover-class</span>    按钮被按下的样式类，none表示没有任何效果。<br><span class="propWX-green">hover-start-time</span>    按钮被按下多久出现点击态，默认为20毫秒。<br><span class="propWX-green">hover-stay-time</span>    手指松开按钮点击态的保留时间，默认为70毫秒。<br><span class="propWX-green bg-red">type</span>  按钮的样式类型，默认值为default，还能取值primary和warn。<br><span class="propWX-green">session-from</span>    会话来源，open-type=<code>&quot;contact&quot;</code>时生效。<br><span class="propWX-green">bindcontact</span>    客服消息回调，open-type=<code>&quot;contact&quot;</code>时生效。<br><span class="propWX-green">binderror</span>    使用开放能力时失败的回调，open-type=<code>&quot;launchApp&quot;</code>时生效。<br><span class="propWX-green">bindopensetting</span>    打开授权设置页面的回调，open-type=<code>&quot;openSetting&quot;</code>时生效。<br><span class="propWX-green">bindgetphonenumber</span>    获取用户手机号码回调，open-type=<code>&quot;getPhoneNumber&quot;</code>时生效。<br><span class="propWX-green">bindgetuserinfo</span>    点击时用户信息在detail中返回，open-type=<code>&quot;getUserInfo&quot;</code>时生效。<br><span class="propWX-green">app-parameter</span>    打开app时向app传递的参数，open-type=<code>&quot;launchApp&quot;</code>时生效。<br><span class="propWX-green">lang</span>    指定返回的用户信息的语言，open-type=<code>&quot;getUserInfo&quot;</code>时生效。<br><span class="propWX-green">send-message-title</span>    会话内消息卡片标题，open-type=<code>&quot;contact&quot;</code>时生效。<br><span class="propWX-green">send-message-img</span>    会话内消息卡片图片，open-type=<code>&quot;contact&quot;</code>时生效。<br><span class="propWX-green">show-message-card</span>    显示会话内消息卡片默认为false，open-type=<code>&quot;contact&quot;</code>时生效。<br><span class="propWX-green">send-message-path</span>    会话内消息卡片点击跳转小程序路径，open-type=<code>&quot;contact&quot;</code>时生效。</p>
<p><strong>open-type微信开放能力属性取值说明</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">cotact	        打开客服会话。</div><div class="line">openSetting	打开授权设置页	。</div><div class="line">share	        触发用户转发，使用前建议先阅读使用指引。</div><div class="line">feedback	打开“意见反馈”页面，用户可提交反馈内容并上传日志。</div><div class="line">getUserInfo	获取用户信息，可以从bindgetuserinfo回调中获取到用户信息。</div><div class="line">launchApp	打开APP，可以通过app-parameter属性设定向APP传的参数具体说明。</div><div class="line">getPhoneNumber	获取用户手机号，可以从bindgetphonenumber回调中获取到用户信息，具体说明。</div></pre></td></tr></table></figure></p>
<p>我们重点关注button组件非开放能力相关的属性，关于开放能力的相关知识点可以查询官方文档，这里给出button组件使用的代码示例。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div></pre></td><td class="code"><pre><div class="line">//wxml文件中的内容</div><div class="line"><span class="comment">&lt;!-- 1.0 演示按钮的基本使用 --&gt;</span></div><div class="line"><span class="comment">&lt;!-- 001 type属性对比  取值为：defalut(默认白色) warn(红色) primary(绿色) --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">'defalut'</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">'warn'</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">'primary'</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- 002 size属性：设置按钮的大小 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">size</span>=<span class="string">'mini'</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- 003 plain属性：设置按钮是否镂空显示 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">plain</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- 004 disabled属性：设置禁用按钮 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">disabled</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- 005 loading属性：文字前面是否显示icon，布尔类型的值，默认不显示 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">loading</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- 006 form-type属性：设置表单中的submit和reset --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">bindsubmit</span>=<span class="string">'submitClick'</span> <span class="attr">bindreset</span>=<span class="string">'resetClick'</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">'text'</span> <span class="attr">placeholder</span>=<span class="string">'请输入用户名'</span> <span class="attr">name</span>=<span class="string">'usrname'</span>&gt;</span><span class="tag">&lt;/<span class="name">input</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">'text'</span><span class="attr">placeholder</span>=<span class="string">'请输入密码'</span> <span class="attr">name</span>=<span class="string">'password'</span>&gt;</span><span class="tag">&lt;/<span class="name">input</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">form-type</span>=<span class="string">'submit'</span>&gt;</span>提交表单的数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">form-type</span>=<span class="string">'reset'</span>&gt;</span>重置表单的数据<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- 007 hover-class属性：设置按钮按下去的样式 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">hover-class</span>=<span class="string">'btn-hover'</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- 008 部分开放能力属性测试 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">open-type</span>=<span class="string">'contact'</span> <span class="attr">bindcontact</span>=<span class="string">'testClick'</span>&gt;</span>开放能力打开客服会话<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">open-type</span>=<span class="string">'getPhoneNumber'</span></span></div><div class="line"><span class="tag"><span class="attr">bindgetphonenumber</span>=<span class="string">"getPhoneNumberClick"</span>&gt;</span></div><div class="line">开放能力获取用户的手机号码</div><div class="line"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"></div><div class="line">//js文件中的内容</div><div class="line">Page(&#123;</div><div class="line">  submitClick:function(e)&#123;</div><div class="line">    console.log("点击了表单的提交按钮",e);</div><div class="line">  &#125;,</div><div class="line">  resetClick: function (e) &#123;</div><div class="line">    console.log("点击了表单的重置按钮",e);</div><div class="line">  &#125;,</div><div class="line">  testClick:function(e)&#123;</div><div class="line">      console.log("打开客服会话",e);</div><div class="line">    &#125;,</div><div class="line">    getPhoneNumberClick:function()&#123;</div><div class="line">      console.log("获取用户的电话号码",e);</div><div class="line">    &#125;</div><div class="line"> &#125;);</div><div class="line"></div><div class="line">//wxss文件中的内容</div><div class="line">.btn-hover</div><div class="line">&#123;</div><div class="line">  background: #110e1e;</div><div class="line">  color: #fff;</div><div class="line">  font-size: 20rpx;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="2-0-input组件"><a href="#2-0-input组件" class="headerlink" title="2.0 input组件"></a>2.0 input组件</h4><p><a href="https://developers.weixin.qq.com/miniprogram/dev/component/input.html" target="_blank" rel="external">input组件</a>就是输入框，主要用来处理用户的输入和数据修改等操作。</p>
<p><strong>这里列出input组件的主要属性</strong></p>
<p><span class="propWX-green bg-red">type</span> 输入框的类型。<br><span class="propWX-green ">disabled</span>      输入框是否禁用。<br><span class="propWX-green bg-red">value</span>    输入框的初始内容。<br><span class="propWX-green ">password</span>     输入框是密码类型的。<br><span class="propWX-green ">placeholder-style    </span>     指定placeholder的样式。<br><span class="propWX-green ">placeholder-class</span>     指定placeholder的样式类。<br><span class="propWX-green bg-red">placeholder</span>     输入框为空的时候显示的占位字符。<br><span class="propWX-green ">maxlength</span>     输入框的最大输入长度，设置为-1表示没有限制默认为140。<br><span class="propWX-green bg-red">confirm-type</span>     弹出键盘的右下角的文字，默认为done，type为text时生效。<br><span class="propWX-green ">confirm-hold</span>     点击键盘右下角按钮时是否保持键盘不收起。<br><span class="propWX-green ">adjust-position</span>     键盘弹起时，是否自动上推页面,默认值为true。<br><span class="propWX-green ">focus</span>     获取焦点。<br><span class="propWX-green ">cursor</span>     指定focus时的光标位置。<br><span class="propWX-green ">selection-start</span>     光标起始位置，自动聚集时有效，需与selection-end搭配使用。<br><span class="propWX-green ">selection-end</span>     光标结束位置，自动聚集时有效，需与selection-start搭配使用。<br><span class="propWX-green bg-red">bindfocus</span>     输入框聚焦时触发。<br><span class="propWX-green ">bindblur</span>     输入框失去焦点时触发。<br><span class="propWX-green bg-red">bindconfirm</span>     点击完成按钮时触发。<br><span class="propWX-green ">bindinput</span>     键盘输入时触发，处理函数能直接return替换输入框的内容。</p>
<p><strong>特定属性的取值情况说明</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">type属性的取值可以是下面的四种情况，分别对应弹出不同类型的键盘。</div><div class="line">text	文本输入键盘</div><div class="line">number	数字输入键盘</div><div class="line">idcard	身份证输入键盘</div><div class="line">digit	带小数点的数字键盘</div><div class="line"></div><div class="line">confirm-type属性的有效值有下面五种，其最终表现与手机输入法本身的实现有关。</div><div class="line">send	右下角按钮为“发送”</div><div class="line">search	右下角按钮为“搜索”</div><div class="line">next	右下角按钮为“下一个”</div><div class="line">go	右下角按钮为“前往”</div><div class="line">done	右下角按钮为“完成”</div></pre></td></tr></table></figure></p>
<p><strong>这里给出input标签使用的示例代码</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line">//wxml文件内容</div><div class="line">&lt;!-- 1.0 测试type属性，有效值为text  number idcard digit --&gt;</div><div class="line">&lt;input type=&apos;text&apos; placeholder=&apos;我是文本输入框&apos;&gt;&lt;/input&gt;</div><div class="line">&lt;input type=&apos;number&apos; placeholder=&apos;我是弹出数字键盘&apos;&gt;&lt;/input&gt;</div><div class="line">&lt;input type=&apos;idcard&apos; placeholder=&apos;我弹出身份证键盘&apos;&gt;&lt;/input&gt;</div><div class="line">&lt;input type=&apos;digit&apos; placeholder=&apos;我弹出小数键盘&apos;&gt;&lt;/input&gt;</div><div class="line"></div><div class="line">&lt;!-- 2.0 测试confirm-type属性：有效值为send search next go done --&gt;</div><div class="line">&lt;input confirm-type=&apos;send&apos; placeholder=&apos;键盘右下角的文字为send-发送&apos;&gt;&lt;/input&gt;</div><div class="line">&lt;input confirm-type=&apos;search&apos; placeholder=&apos;键盘右下角的文字为search-搜索&apos;&gt;&lt;/input&gt;</div><div class="line">&lt;input confirm-type=&apos;next&apos; placeholder=&apos;键盘右下角的文字为next-下一项&apos;&gt;&lt;/input&gt;</div><div class="line">&lt;input confirm-type=&apos;go&apos; placeholder=&apos;键盘右下角的文字为go-前往&apos;&gt;&lt;/input&gt;</div><div class="line">&lt;input confirm-type=&apos;done&apos; placeholder=&apos;键盘右下角的文字为done-完成&apos;&gt;&lt;/input&gt;</div><div class="line"></div><div class="line">&lt;!-- 3.0 测试value属性：控制输入框的初始值 --&gt;</div><div class="line">&lt;input value=&apos;我是该输入框的初始值&apos;&gt;&lt;/input&gt;</div><div class="line"></div><div class="line">&lt;!-- 4.0 测试disabled属性：控制输入框是否禁用 --&gt;</div><div class="line">&lt;input disabled placeholder=&apos;禁用输入框&apos;&gt;&lt;/input&gt;</div><div class="line"></div><div class="line">&lt;!-- 5.0 测试placeholder-style：给占位的文本设置样式 --&gt;</div><div class="line">&lt;input placeholder-style=&apos;color:red;&apos; placeholder=&apos;我是占位的文本&apos;&gt;&lt;/input&gt;</div><div class="line"></div><div class="line">&lt;!-- 6.0 测试maxlength：限制输入框的最大长度 --&gt;</div><div class="line">&lt;input maxlength=&quot;10&quot; placeholder=&apos;最多只能输入10个字符&apos;&gt;&lt;/input&gt;</div><div class="line"></div><div class="line">&lt;!-- 7.0 测试事件 --&gt;</div><div class="line">&lt;input</div><div class="line">bindfocus=&apos;onbindfocus&apos;</div><div class="line">bindblur=&apos;onbindblur&apos;</div><div class="line">bindinput=&apos;onbindinput&apos;</div><div class="line">bindconfirm=&apos;onbindconfirm&apos;</div><div class="line">placeholder=&apos;输入框获取焦点的时候出发&apos;&gt;</div><div class="line">&lt;/input&gt;</div><div class="line"></div><div class="line">//js文件的内容</div><div class="line">Page(&#123;</div><div class="line">  onbindfocus:function(e)&#123;</div><div class="line">    console.log(&quot;onbindfocus-获得焦点&quot;,e);</div><div class="line">  &#125;,</div><div class="line">  onbindblur: function (e) &#123;</div><div class="line">    console.log(&quot;onbindblur-失去焦点&quot;, e);</div><div class="line">  &#125;,</div><div class="line">  onbindconfirm: function (e) &#123;</div><div class="line">    console.log(&quot;onbindconfirm-点击完成(键盘右下角)&quot;, e);</div><div class="line">  &#125;,</div><div class="line">  onbindinput: function (e) &#123;</div><div class="line">    console.log(&quot;onbindinput-监听到键盘输入&quot;, e);</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
</div></article></div></main><footer><div class="paginator"><a href="/2018/10/02/微信小程序序列[10]-UI组件库的使用和封装/" class="prev">上一篇</a><a href="/2018/09/27/微信小程序系列[08]-模板的基本使用和引入/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2018 <a href="https://weibo.com/u/3800117445">文顶顶</a> &nbsp;☁ 全站字数统计203.1k(字)</p><!--p © #{year} #[a(href=config.url)!= config.author], powered by #[a(href=hexoURL, target="_blank") Hexo] and #[a(href=apolloURL, target="_blank") hexo-theme-apollo].--></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>