<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 第六章jQuery的事件处理 · 花田半亩</title><meta name="description" content="第六章jQuery的事件处理 - 文顶顶"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/白菜.jpeg"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="花田半亩"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/白菜.jpeg" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">文顶顶的BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">归档</a></li><li class="nav-list-item"><a href="https://www.cnblogs.com/wendingding/" target="_blank" class="nav-list-link">博客园</a></li><li class="nav-list-item"><a href="https://github.com/pinggod" target="_blank" class="nav-list-link">微博</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">第六章jQuery的事件处理</h1><div class="post-info">Jan 23, 2018</div><div class="post-content"><p>JavaScript以事件驱动来实现页面的交互，其核心是<code>以消息为基础，以事件来驱动。</code>虽然利用传统的JavaScript事件处理方式也能够完成页面交互，但jQuery框架增加并扩展了基本的事件处理机制，jQuery框架提供了更加优雅的事件处理语法，并极大的增强了事件处理能力。</p>
<h4 id="6-1-事件处理简单说明"><a href="#6-1-事件处理简单说明" class="headerlink" title="6.1  事件处理简单说明"></a>6.1  事件处理简单说明</h4><p>jQuery框架在JavaScript的基础上进一步封装了不同类型的事件模型，形成了一套更强大和优雅的“jQuery事件模型”。</p>
<p>jQuery中的事件模型表现出以下特征：</p>
<p>① 使用DOM事件模型中标准的事件类型名称。<br>② 统一了事件处理中的各种方法。<br>③ 允许为每个元素的每个事件类型建立多个处理程序。<br>④ 统一了事件对象的传递方法并规范了事件对象的常用属性和方法。<br>⑤ 为事件管理和操作提供了统一的方法。</p>
<h4 id="6-2-绑定事件"><a href="#6-2-绑定事件" class="headerlink" title="6.2  绑定事件"></a>6.2  绑定事件</h4><p>在jQuery中，我们可以有多种方式来为标签绑定事件，可以简单的区分为<code>专用方法</code>绑定事件和<code>快捷方法</code>绑定事件。</p>
<p><strong><code>① 快捷方法绑定事件</code></strong></p>
<p>jQuery框架中定义了24个快捷方法来为标签绑定特定类型的事件，这些方法和二级事件模型中的事件类型对应，名称相同。</p>
<p>具体的快捷方法如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">blur()      当元素失去焦点时发生 blur 事件</div><div class="line">change()    当元素的值发生改变时，会发生 change 事件</div><div class="line">click()     当点击元素时，会发生 click 事件</div><div class="line">dbclick()   当双击元素时，会发生 dblclick 事件</div><div class="line">error()     当元素遇到错误（没有正确载入）时，发生 error 事件</div><div class="line">focus()     当元素获得焦点时，发生 focus 事件</div><div class="line">focusin()   当元素获得焦点时，发生 focusin 事件(包括子元素)</div><div class="line">focusout()  当元素失去焦点时，发生 focusout事件(包括子元素)</div><div class="line">keydown()   当按键被按下时，发生 keydown 事件</div><div class="line">keyup()     当按键被松开时，发生 keyup 事件</div><div class="line">keypress()  当按键被按下时，发生 keypress事件（响应每个字符）</div><div class="line">mouseenter()当鼠标指针穿过元素时，会发生 mouseenter 事件</div><div class="line">mouseleave()当鼠标指针离开元素时，会发生 mouseleave 事件</div><div class="line">mouseover() 当鼠标指针位于元素上方时，会发生 mouseover 事件</div><div class="line">mouseout()  当鼠标指针从元素上移开时，会发生 mouseout 事件</div><div class="line">mousedown() 当鼠标进入元素，并按下按键时，会发生mousedown事件</div><div class="line">mouseup()   当在元素上放松鼠标按钮时，会发生 mouseup 事件</div><div class="line">mousemove() 当鼠标在指定的元素中移动时，会发生 mousemove 事件</div><div class="line">resize()    当调整浏览器窗口的大小时，发生 resize 事件</div><div class="line">scroll()    当用户滚动指定的元素时，会发生 scroll 事件</div><div class="line">select()    当文本被选择时，会发生 select 事件</div><div class="line">submit()    当提交表单时，会发生 submit 事件(表单)</div><div class="line">load()      当指定的元素（及子元素）已加载时，会发生load事件</div><div class="line">unload()    当用户离开页面时，会发生 unload 事件(<span class="number">1.8</span>-)</div></pre></td></tr></table></figure></p>
<p><strong><code>② 专用方法绑定事件</code></strong></p>
<p>jQuery中可以使用四种专用方法来绑定事件，分别是<code>bind方法、live方法、delegate方法和on方法</code>,每个版本各有区别，建议使用on方法。</p>
<p><strong>补充说明</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">bind方法适用于所有的版本，<span class="number">1.7</span>+ 推荐使用on方法来代替。</div><div class="line">live方法适用于 <span class="number">1.9</span>- 的版本，<span class="number">1.9</span>+ 版本使用on方法来代替。</div><div class="line">delegate方法适用于<span class="number">1.4</span><span class="number">.2</span> + 的版本。</div><div class="line">on方法适用于<span class="number">1.7</span>+ 的版本，<span class="number">1.7</span>+ 用于替代bind和live方法。</div></pre></td></tr></table></figure></p>
<p><code>on方法</code>为指定的元素添加一个或者是多个事件，并规定这些事件发生时指定的函数。</p>
<p>on方法的语法：<code>on（eventType,childselector,data,function）</code></p>
<p>参数说明：</p>
<p>eventType：必传参数，指定事件的类型如click等。<br>childselector：可选参数，用于事件委托。<br>data：可选参数，设计需要传递的数据。<br>function：必传参数，事件发生时，执行的函数。</p>
<p><strong>示例代码</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//【1】使用快捷方法来给按钮添加点击事件</span></div><div class="line">$(<span class="string">"button"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">          <span class="built_in">console</span>.log(<span class="string">"点击了按钮---1"</span>);</div><div class="line">      &#125;);</div><div class="line">$(<span class="string">"button"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">          <span class="built_in">console</span>.log(<span class="string">"点击了按钮---2"</span>);</div><div class="line">      &#125;);</div><div class="line"></div><div class="line"><span class="comment">//【2】使用on方法来给按妞添加点击事件</span></div><div class="line">$(<span class="string">"button"</span>).on(<span class="string">"click"</span>,&#123;<span class="attr">name</span>:<span class="string">"wendingding"</span>&#125;,<span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">          <span class="built_in">console</span>.log(<span class="string">"点击了按钮----on"</span>);</div><div class="line">          <span class="built_in">console</span>.log(event.data.name);</div><div class="line">      &#125;)</div></pre></td></tr></table></figure></p>
<p><strong><code>扩展：one方法的使用</code></strong><br><code>one方法</code>是on方法中的一种特殊使用方式，由one方法绑定的事件在执行一次响应之后就会失效。其设计思路是：在事件处理函数的内部注销当前事件</p>
<p><strong><code>扩展：事件委托说明</code></strong><br><code>事件委托</code>是开发中常见的绑定事件方式，参考代码如下。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//思考:如何能够找到所有的span标签(已经存在的 + 尚未创建的)</span></div><div class="line"><span class="comment">//第一个参数:事件的类型</span></div><div class="line"><span class="comment">//第二个参数:给谁添加事件</span></div><div class="line"><span class="comment">//第三个参数:事件发生的回调函数</span></div><div class="line">$(<span class="string">"div"</span>).on(<span class="string">"click"</span>,<span class="string">"span"</span>,<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"点击了标签"</span>);</div><div class="line"> &#125;)</div></pre></td></tr></table></figure></p>
<h4 id="6-3-注销事件"><a href="#6-3-注销事件" class="headerlink" title="6.3  注销事件"></a>6.3  注销事件</h4><p>有时候我们需要把一些元素的绑定事件注销，可以使用off方法来注销事件。<br>注销事件的方法和注册事件的方法是相反的操作，参数和用法基本相同。</p>
<p><code>off方法</code>的使用示例</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//注销button标签上面的所有点击事件</span></div><div class="line">$(<span class="string">"button"</span>).off(<span class="string">"click"</span>);</div><div class="line"><span class="comment">//注销button标签上面指定的鼠标移入事件,fn为绑定移入事件时的函数</span></div><div class="line">$(<span class="string">"button"</span>).off(<span class="string">"mouseenter"</span>,fn);</div></pre></td></tr></table></figure>
<h4 id="6-4-事件对象"><a href="#6-4-事件对象" class="headerlink" title="6.4  事件对象"></a>6.4  事件对象</h4><p>在注册事件的时候，event对象实例将作为第一个参数传递给事件的回调函数，这和DOM事件模型是完全相同的。另外，jQuery统一了IE事件模型和DOM事件模型中event对象属性和方法的用法，使其符合DOM标准事件模型的规范。</p>
<p><img src="https://raw.githubusercontent.com/flowerField/Source/master/Blog/event-01.png"></p>
<p>在事件处理函数（回调函数）中，我们可以获取事件对象的相关信息。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">$(<span class="string">"button"</span>).on(<span class="string">"click"</span>,&#123;<span class="attr">name</span>:<span class="string">"zs"</span>&#125;,<span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</div><div class="line">           <span class="built_in">console</span>.log(<span class="string">"点击了按钮----2"</span>);</div><div class="line">           <span class="comment">//获取事件的类型</span></div><div class="line">           <span class="built_in">console</span>.log(event.type);</div><div class="line">           <span class="comment">//获取目标对象</span></div><div class="line">           <span class="built_in">console</span>.log(event.target);</div><div class="line">           <span class="comment">//获取被省略的对象</span></div><div class="line">           <span class="built_in">console</span>.log(event.data);</div><div class="line">       &#125;)</div></pre></td></tr></table></figure></p>
<h4 id="6-5-事件冒泡"><a href="#6-5-事件冒泡" class="headerlink" title="6.5  事件冒泡"></a>6.5  事件冒泡</h4><p>事件冒泡的简单解释：如果某个标签的事件被触发，那么该标签父标签上被注册的相同类型事件也会被触发，并且会依次一直冒泡到顶端。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line">&lt;html lang=<span class="string">"en"</span>&gt;</div><div class="line">&lt;head&gt;</div><div class="line">    &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</div><div class="line">    &lt;title&gt;Title&lt;<span class="regexp">/title&gt;</span></div><div class="line"><span class="regexp">    &lt;script src="js/</span>jquery<span class="number">-3.2</span><span class="number">.1</span>.js<span class="string">"&gt;&lt;/script&gt;</span></div><div class="line"><span class="string">    &lt;style&gt;</span></div><div class="line"><span class="string">        .box1&#123;</span></div><div class="line"><span class="string">            width: 300px;</span></div><div class="line"><span class="string">            height: 300px;</span></div><div class="line"><span class="string">            background: red;</span></div><div class="line"><span class="string">        &#125;</span></div><div class="line"><span class="string">        .box2&#123;</span></div><div class="line"><span class="string">            width: 200px;</span></div><div class="line"><span class="string">            height: 200px;</span></div><div class="line"><span class="string">            background: green;</span></div><div class="line"><span class="string">        &#125;</span></div><div class="line"><span class="string">        .box3&#123;</span></div><div class="line"><span class="string">            width: 100px;</span></div><div class="line"><span class="string">            height: 100px;</span></div><div class="line"><span class="string">            background: yellow;</span></div><div class="line"><span class="string">        &#125;</span></div><div class="line"><span class="string">    &lt;/style&gt;</span></div><div class="line"><span class="string">&lt;/head&gt;</span></div><div class="line"><span class="string">&lt;body&gt;</span></div><div class="line"><span class="string">&lt;script&gt;</span></div><div class="line"><span class="string">    $(function () &#123;</span></div><div class="line"><span class="string">        $("</span>.box1<span class="string">").click(function () &#123;</span></div><div class="line"><span class="string">            console.log("</span>点击了box1<span class="string">");</span></div><div class="line"><span class="string">        &#125;)</span></div><div class="line"><span class="string">        $("</span>.box2<span class="string">").click(function (e) &#123;</span></div><div class="line"><span class="string">            console.log("</span>点击了box2<span class="string">");</span></div><div class="line"><span class="string">            //e.stopPropagation(); //return false;</span></div><div class="line"><span class="string">        &#125;);</span></div><div class="line"><span class="string">        $("</span>.box3<span class="string">").click(function () &#123;</span></div><div class="line"><span class="string">            console.log("</span>点击了box3<span class="string">");</span></div><div class="line"><span class="string">        &#125;)</span></div><div class="line"><span class="string">    &#125;)</span></div><div class="line"><span class="string">&lt;/script&gt;</span></div><div class="line"><span class="string">&lt;div class="</span>box1<span class="string">"&gt;</span></div><div class="line"><span class="string">    &lt;div class="</span>box2<span class="string">"&gt;</span></div><div class="line"><span class="string">        &lt;div class="</span>box3<span class="string">"&gt;&lt;/div&gt;</span></div><div class="line"><span class="string">    &lt;/div&gt;</span></div><div class="line"><span class="string">&lt;/div&gt;</span></div><div class="line"><span class="string">&lt;/body&gt;</span></div><div class="line"><span class="string">&lt;/html&gt;</span></div></pre></td></tr></table></figure>
<p>阻止事件冒泡的两种方式：<br>【1】在回调函数中返回false。<br>【2】调用事件对象的stopPropagation方法。</p>
<h4 id="6-6-触发事件和默认行为"><a href="#6-6-触发事件和默认行为" class="headerlink" title="6.6  触发事件和默认行为"></a>6.6  触发事件和默认行为</h4><p><strong><code>默认行为</code></strong></p>
<p><code>默认行为</code>：页面中的一些标签常常存在默认的行为，比如表单的submit事件类型，如果该类型的事件被触发，则会导致表单的提交；比如a标签存在跳转网页连接的默认行为等。如果需要在事件被触发的时候，阻止标签默认的行为，可以考虑在处理函数内部调用事件对象的<code>preventDefault()</code>方法。</p>
<p><strong><code>触发事件</code></strong></p>
<p><code>触发事件</code>：页面中标签的事件都是在特定条件下发生的，所以不同类型的事件触发时间其实无法预测。但有的时候，我们可能需要控制事件发生的时机。这时候，可以考虑使用<code>trigger()</code>或者是<code>triggerHandler()</code>方法来触发事件。</p>
<p>语法说明：<br><code>trigger(type),[data]</code><br><code>triggerHandler(type),[data]</code></p>
<p>参数说明：<br>type参数表示事件的类型，以字符串的形式传递。<br>data参数是可选的，利用该参数可以向事件的回调函数传递额外的数据。</p>
<p>代码示例：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">$(<span class="string">".box3"</span>).trigger(<span class="string">"click"</span>);</div><div class="line">$(<span class="string">"input"</span>).triggerHandler(<span class="string">"click"</span>);</div></pre></td></tr></table></figure></p>
<p><code>trigger和triggerHandler方法的对比</code></p>
<p>① triggerHandler方法不会触发标签的默认事件。<br>② triggerHandler方法只会触发jQ实例对象集合中第一个元素的事件回调。<br>③ triggerHandler方法返回的是事件回调函数的返回值，而非jQ对象。</p>
<ul>
<li>Posted by 博客园·<a href="http://www.cnblogs.com/wendingding/" target="_blank" rel="external">文顶顶</a> ~ <a href="https://flowerfield.github.io" target="_blank" rel="external">花田半亩</a></li>
<li>联系作者 简书·<a href="http://www.jianshu.com/users/c5703017b9f5/latest_articleshttp://www.jianshu.com/users/c5703017b9f5/latest_articles" target="_blank" rel="external">文顶顶</a> 新浪微博·<a href="http://weibo.com/p/1005053800117445/home?from=page_100505&amp;mod=TAB#place" target="_blank" rel="external">文顶顶_iOS</a></li>
<li>原创文章，版权声明：自由转载-非商用-非衍生-保持署名 | <a href="http://www.cnblogs.com/wendingding/" target="_blank" rel="external">文顶顶</a></li>
</ul>
</div></article></div></main><footer><div class="paginator"><a href="/2018/01/25/第七章 jQuery框架的DOM操作/" class="prev">PREV</a><a href="/2018/01/23/第五章 jQuery的动画特效/" class="next">NEXT</a></div><div class="copyright"><p>© 2015 - 2018 <a href="http://yoursite.com">文顶顶</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>