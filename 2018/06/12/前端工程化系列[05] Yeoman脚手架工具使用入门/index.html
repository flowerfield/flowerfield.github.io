<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 前端工程化系列[05] Yeoman脚手架使用入门 · 花田半亩</title><meta name="description" content="前端工程化系列[05] Yeoman脚手架使用入门 - 文顶顶"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/logo.jpeg"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://weibo.com/u/3800117445/atom.xml" title="花田半亩"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/鲸鱼.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">文顶顶的BLOG</a></li><li class="nav-list-item"><a href="/tags/" target="_self" class="nav-list-link">标签</a></li><li class="nav-list-item"><a href="https://www.cnblogs.com/wendingding/" target="_blank" class="nav-list-link">博客园</a></li><li class="nav-list-item"><a href="http://weibo.com/p/1005053800117445/home?from=page_100505&amp;mod=TAB#place" target="_blank" class="nav-list-link">微博</a></li><li class="nav-list-item"><a href="http://blog.sina.com.cn/u/1910914290" target="_blank" class="nav-list-link">花田半亩</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">前端工程化系列[05] Yeoman脚手架使用入门</h1><div class="post-info">Jun 12, 2018<span class="post-count"></span> ✧ 字数统计:1,396(字) &nbsp;&nbsp; ♨︎ 阅读时长:6(分钟)</div><div class="post-content"><p><img src="https://github.com/flowerField/Source/blob/master/Blog/yeoman.png?raw=true"></p>
<p><code>Yeoman</code>是一款流行的前端的脚手架工具。</p>
<p><span style="color:red">脚手架工具可以用来快速的自动生成项目的必要文件和基础文件结构。Yeoman使用的内建命令为yo，同时它自己也是一个包管理工具和自动化任务工具，它基于特定的模板来初始化项目。</span></p>
<p>考虑这样的开发场景：现在我们需要开始一个全新的前端项目，通常需要先处理项目的文件结构，创建包括img、JavaScript、CSS 等静态资源的文件夹，如果团队开发，可能还需要添加 .gitignore忽略文件以及<code>.editorconfig</code>、<code>.eslintrc</code>、<code>package.json</code>、<code>Gruntfile.js</code>以及README.md等配置文件。</p>
<p>如果你进行的多个前端项目，它们的技术选型差不多(比如都是：<span style="color:#0b0">jQuery + grunt + Vue + Bootstrap</span>)，你会发现这些项目的整体文件结构是相同的。我们在初始化项目的时候，当然可以从0开始搭建，也可以直接把旧项目的结构和相关文件拷贝过来，这其实都是些重复性没有技术含量的工作，而Yeoman 的作用就是减少这些重复性的工作，通过调用 Yeoman 生态圈中的现成的生成器(<code>generator</code>)即可自动生成项目初始化所需要的文件结构、配置文件等。所以简单来说，<strong><code>Yeoman 是一个用于初始化项目的模版工具，用完就可以扔在一边了</code></strong>。</p>
<p>关于Yeoman的更多信息可以参考<a href="http://yeoman.io" target="_blank" rel="external">Yeoman官网</a>和<a href="https://github.com/yeoman" target="_blank" rel="external">Github托管仓库</a>。</p>
<h3 id="Yeoman的安装和使用"><a href="#Yeoman的安装和使用" class="headerlink" title="Yeoman的安装和使用"></a>Yeoman的安装和使用</h3><p>用于初始化项目的模板被称为生成器（<code>generator</code>）, 在开源社区中已经有众多现成的generator可以供我们使用（可以在<a href="http://yeoman.io/generators/" target="_blank" rel="external">生成器列表页</a>使用关键字搜索）。在开始项目的时候，我们可以先搜寻是否有匹配当前项目技术栈的生成器，如果有的话直接用就好了，如果找不到合适的generator，那么可以考虑自己来写一个Yeoman生成器，甚至通过很简单的方式我们就可以把自己写的生成器发布出来造福社区。</p>
<div class="tip">这篇文章并不包含自己创建Yeoman生成器的内容，我只是想简单介绍下Yeoman的特征，以及如何使用Yeoman的生成器来初始化项目这个部分。</div>

<p><strong>环境准备</strong></p>
<p>安装yeoman之前，你需要先安装以下环境</p>
<ul>
<li>Node.js 6或更高版本</li>
<li>npm 3或更高版本（通常安装Node的时候默认安装）</li>
<li>Git版本控制工具</li>
</ul>
<p>点击<a href="https://nodejs.org/en/" target="_blank" rel="external">NodeJS官网</a>选择对应系统和版本根据提示完成NodeJS的安装，我们可以通过在终端输入下面的命令来检查Node和npm的安装是否成功。</p>
<p><code>$ node --version &amp;&amp; npm --version</code></p>
<p>有些 Node 版本可能安装的是旧版本的 npm，你可以通过以下命令来更新npm</p>
<p><code>$ npm install -g npm@latest</code></p>
<p>Git的安装过程请自行百度(OSX 默认安装)，您可以通过以下命名来检查Git</p>
<p><code>$ git --version</code></p>
<p><strong>安装Yeoman</strong></p>
<p>通过下面的命令来安装Yeoman并检查是否安装成功，当前最新版本为<code>2.0.1</code>，<code>-g</code>表示全局安装。</p>
<p><code>$ npm install -g yo</code><br><code>$ yo --version</code></p>
<p><strong>generator-typeScript初始化项目示例</strong></p>
<p> 接下来我们将选择一个生成器(<code>这里以typescript为例</code>)来演示初始化项目的操作，Yeoman将会根据对应的生成器替我们创建好package.json和bower.json等文件，然后自动安装依赖。</p>
<p><span style="color:#195">① 新建 mytodo 文件夹，生成器生成的脚手架文件会放在这个文件夹中。</span></p>
<p><code>$ mkdir mytodo &amp;&amp; cd mytodo</code></p>
<p><span style="color:#195">② 根据项目技术栈需求到官网列表搜索合适的生成器。</span><br><span style="color:#195">③ 通过npm来安装指定的generator。</span></p>
<p><code>$ npm install -g generator-typescript</code></p>
<p><span style="color:#195">④ typescript生成器安装完成后，使用yo命令来开始。</span></p>
<p><code>$ yo typescript</code></p>
<p>下面给出终端处理的具体细节：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line">wendingding:Blog wendingding$ mkdir mytodo &amp;&amp; <span class="built_in">cd</span> mytodo</div><div class="line">wendingding:mytodo wendingding$ npm install -g generator-typescript</div><div class="line">npm WARN deprecated npmconf@2.1.3: this package has been reintegrated into npm and is now out of date with respect to npm</div><div class="line"></div><div class="line">&gt; spawn-sync@1.0.15 postinstall /usr/<span class="built_in">local</span>/lib/node_modules/generator-typescript/node_modules/spawn-sync</div><div class="line">&gt; node postinstall</div><div class="line"></div><div class="line">&gt; yo@1.8.5 postinstall /usr/<span class="built_in">local</span>/lib/node_modules/generator-typescript/node_modules/yo</div><div class="line">&gt; yodoctor</div><div class="line"></div><div class="line">Yeoman Doctor</div><div class="line">Running sanity checks on your system</div><div class="line"></div><div class="line">✔ Global configuration file is valid</div><div class="line">✔ NODE_PATH matches the npm root</div><div class="line">✔ Node.js version</div><div class="line">✔ No .bowerrc file <span class="keyword">in</span> home directory</div><div class="line">✔ No .yo-rc.json file <span class="keyword">in</span> home directory</div><div class="line">✔ npm version</div><div class="line"></div><div class="line">Everything looks all right!</div><div class="line">+ generator-typescript@0.3.0</div><div class="line">added 608 packages <span class="keyword">in</span> 138.302s</div><div class="line">wendingding:mytodo wendingding$ yo typescript</div><div class="line"></div><div class="line">     _-----_</div><div class="line">    |       |    ╭──────────────────────────╮</div><div class="line">    |--(o)--|    │  Let<span class="string">'s make some awesome │</span></div><div class="line"><span class="string">   `---------´   │    typescript project!   │</span></div><div class="line"><span class="string">    ( _´U`_ )    ╰──────────────────────────╯</span></div><div class="line"><span class="string">    /___A___\   /</span></div><div class="line"><span class="string">     |  ~  |</span></div><div class="line"><span class="string">   __'</span>.___.<span class="string">'__</span></div><div class="line"><span class="string"> ´   `  |° ´ Y `</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">I will include JSHint and Editorconfig by default.</span></div><div class="line"><span class="string">? First off, how would you like to name this project? wendingdingDemo</span></div><div class="line"><span class="string">? Where should it be compiled to? app/build</span></div><div class="line"><span class="string">? Where should your typescript go? app/src</span></div><div class="line"><span class="string">   create package.json</span></div><div class="line"><span class="string">   create app/src/index.ts</span></div><div class="line"><span class="string">   create app/src/app.ts</span></div><div class="line"><span class="string">   create tslint.json</span></div><div class="line"><span class="string">   create gulpfile.js</span></div><div class="line"><span class="string">   create test/test-greeting.js</span></div><div class="line"><span class="string">   create test/test-load.js</span></div><div class="line"><span class="string">   create README.md</span></div><div class="line"><span class="string">   create .editorconfig</span></div><div class="line"><span class="string">   create .jshintrc</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">I'</span>m all <span class="keyword">done</span>. Running npm install &amp;&amp; bower install <span class="keyword">for</span> you to install the required dependencies. If this fails, try running the <span class="built_in">command</span> yourself.</div></pre></td></tr></table></figure></p>
<p>按上面的步骤在终端中执行对应命令，我们就可以得到一个基于基于typescript模板生成的初始化项目了，下面列出该项目的目录结构：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">wendingding:mytodo wendingding$ tree</div><div class="line">.</div><div class="line">├── README.md</div><div class="line">├── app</div><div class="line">│   ├── build</div><div class="line">│   └── src</div><div class="line">│       ├── app.ts</div><div class="line">│       └── index.ts</div><div class="line">├── gulpfile.js</div><div class="line">├── package.json</div><div class="line">├── <span class="built_in">test</span></div><div class="line">│   ├── <span class="built_in">test</span>-greeting.js</div><div class="line">│   └── <span class="built_in">test</span>-load.js</div><div class="line">└── tslint.json</div><div class="line"></div><div class="line">4 directories, 8 files</div></pre></td></tr></table></figure></p>
<p>最后，根据Yeoman终端中的提示通过<code>$ npm install &amp;&amp; bower install</code>命令来安装必要的依赖即可。</p>
<hr>
<ul>
<li>Posted by 博客园·<a href="http://www.cnblogs.com/wendingding/" target="_blank" rel="external">文顶顶</a> | <a href="http://wendingding.com" target="_blank" rel="external">花田半亩</a></li>
<li>联系作者 简书·<a href="http://www.jianshu.com/users/c5703017b9f5/latest_articleshttp://www.jianshu.com/users/c5703017b9f5/latest_articles" target="_blank" rel="external">文顶顶</a> 新浪微博·<a href="http://weibo.com/p/1005053800117445/home?from=page_100505&amp;mod=TAB#place">Coder_文顶顶</a></li>
<li>原创文章，版权声明：自由转载-非商用-非衍生-保持署名 | <a href="http://www.cnblogs.com/wendingding/" target="_blank" rel="external">文顶顶</a></li>
</ul>
</div></article></div></main><footer><div class="paginator"><a href="/2018/06/14/前端工程化系列[06] Yeoman脚手架工具核心机制/" class="prev">上一篇</a><a href="/2018/06/12/TypeScript系列 [01]-typeScript简单介绍/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2018 <a href="https://weibo.com/u/3800117445">文顶顶</a> &nbsp;☁ 全站字数统计215.4k(字)</p><!--p © #{year} #[a(href=config.url)!= config.author], powered by #[a(href=hexoURL, target="_blank") Hexo] and #[a(href=apolloURL, target="_blank") hexo-theme-apollo].--></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>