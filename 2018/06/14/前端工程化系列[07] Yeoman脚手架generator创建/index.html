<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 前端工程化系列[07] Yeoman-generator的创建 · 花田半亩</title><meta name="description" content="前端工程化系列[07] Yeoman-generator的创建 - 文顶顶"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/logo.jpeg"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://weibo.com/u/3800117445/atom.xml" title="花田半亩"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/白菜.jpeg" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">文顶顶的BLOG</a></li><li class="nav-list-item"><a href="/tags/" target="_self" class="nav-list-link">标签</a></li><li class="nav-list-item"><a href="https://www.cnblogs.com/wendingding/" target="_blank" class="nav-list-link">博客园</a></li><li class="nav-list-item"><a href="http://weibo.com/p/1005053800117445/home?from=page_100505&amp;mod=TAB#place" target="_blank" class="nav-list-link">微博</a></li><li class="nav-list-item"><a href="http://blog.sina.com.cn/u/1910914290" target="_blank" class="nav-list-link">花田半亩</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">前端工程化系列[07] Yeoman-generator的创建</h1><div class="post-info">Jun 14, 2018<span class="post-count"></span> ✧ 字数统计:830(字) &nbsp;&nbsp; ♨︎ 阅读时长:3(分钟)</div><div class="post-content"><div class="tip">按：在<a href="http://wendingding.com/2018/06/12/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96%E7%B3%BB%E5%88%97[05]%20Yeoman%E8%84%9A%E6%89%8B%E6%9E%B6%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8%E5%85%A5%E9%97%A8/" target="_blank" rel="external">Yeoman脚手架使用入门</a>和<a href="http://wendingding.com/2018/06/14/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96%E7%B3%BB%E5%88%97[06]%20Yeoman%E8%84%9A%E6%89%8B%E6%9E%B6%E5%B7%A5%E5%85%B7%E6%A0%B8%E5%BF%83%E6%9C%BA%E5%88%B6/" target="_blank" rel="external">Yeoman脚手架核心机制</a>这两篇文章中已经对Yeoman脚手架工具的基本使用以及去核心运转机制进行了深入的介绍，这篇文章将以实例的方式来教会如何从零开始创建属于我们自己的generator。</div>

<p>generator创建准备</p>
<p>这里我们一切从零开始，在创建自己的generator之前需要做一些准备工作，比如准备好yo命令行工具，比如对生成器生成的项目结构和目录文件有清晰的规划等。</p>
<p><strong>yo命令行工具</strong></p>
<p>在安装了NodeJS和npm包管理工具的前提下，通过下面的命令来安装yo命令行工具，并检查安装是否成功。</p>
<p><code>$ npm install -g yo</code><br><code>$ yo --version</code></p>
<p><strong>generator-generator的安装</strong></p>
<p>创建generator可以完全从零开始，也可以使用Yeoman官方提供的generator引导，这里我们选择使用Yeoman官方推荐的方式来处理。<br><code>$ mkdir YeomanTest &amp;&amp; cd YeomanTest/</code> 创建新的目录并进入<br><code>$ npm install -g generator-generator</code> 安装Yeoman引导generator</p>
<p>列出具体的执行情况<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">wendingding$ mkdir YeomanTest</div><div class="line">wendingding$ <span class="built_in">cd</span> YeomanTest/</div><div class="line">wendingding$ <span class="built_in">pwd</span></div><div class="line">/Users/文顶顶/Desktop/Yeoman/YeomanTest</div><div class="line">wendingding$ npm install -g generator-generator</div><div class="line">+ generator-generator@4.0.2</div><div class="line">updated 1 package <span class="keyword">in</span> 117.639s</div><div class="line"></div><div class="line">   ╭─────────────────────────────────────╮</div><div class="line">   │                                     │</div><div class="line">   │   Update available 5.5.1 → 6.1.0    │</div><div class="line">   │     Run npm i -g npm to update      │</div><div class="line">   │                                     │</div><div class="line">   ╰─────────────────────────────────────╯</div></pre></td></tr></table></figure></p>
<p>执行Yeoman官方的引导generator，并处理交互式配置部分，下面列出具体的执行情况。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">wendingding$ yo generator</div><div class="line">? Your generator name generator-wendingding</div><div class="line">Your generator must be inside a folder named generator-wendingding</div><div class="line">I<span class="string">'ll automatically create this folder.</span></div><div class="line"><span class="string">? Description 博客文章测试创建生成器</span></div><div class="line"><span class="string">? Project homepage url http://www.wendingding.com</span></div><div class="line"><span class="string">? Author'</span>s Name 文顶顶</div><div class="line">? Author<span class="string">'s Email 18681537032@163.com</span></div><div class="line"><span class="string">? Author'</span>s Homepage http://www.wendingding.com</div><div class="line">? Package keywords (comma to split) wendingding</div><div class="line">? Send coverage reports to coveralls Yes</div><div class="line">? GitHub username or organization flowerField</div><div class="line">? Which license <span class="keyword">do</span> you want to use? Apache 2.0</div><div class="line">   create package.json</div><div class="line">   create README.md</div><div class="line">   create .editorconfig</div><div class="line">   create .gitattributes</div><div class="line">   create .gitignore</div><div class="line">   create generators/app/index.js</div><div class="line">   create generators/app/templates/dummyfile.txt</div><div class="line">   create __tests__/app.js</div><div class="line">   create .travis.yml</div><div class="line">   create .eslintignore</div><div class="line">   create LICENSE</div><div class="line">I<span class="string">'m all done. Running npm install for you to install the required dependencies. If this fails, try running the command yourself.</span></div></pre></td></tr></table></figure>
<p>在执行generator-generator这个生成器的过程中，会询问项目名称、作者、使用协议、主页地址等等信息，依次选择填空即可。</p>
<div class="tip">注意：按照约定，Yeoman generator的名字必须以“generator-”的前缀开头，这是因为所有的generator其实都是全局安装的node模块，所以Yeoman其实是完全文件系统来查找这些生成器的。</div>

<p>当上面的命令执行完毕后，会发现在当前的路径下面生成了<code>generator-wendingding</code>目录，进入到<code>generator-wendingding</code>目录，使用tree命令查看当前目录结构，显示如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">.</div><div class="line">├── LICENSE</div><div class="line">├── README.md</div><div class="line">├── __tests__</div><div class="line">├── generators</div><div class="line">├── app</div><div class="line">│    ├── index.js</div><div class="line">│    └── templates</div><div class="line">│        └── dummyfile.txt</div><div class="line">├── node_modules</div><div class="line">├── package-lock.json</div><div class="line">└── package.json</div></pre></td></tr></table></figure></p>
<p>上面目录结构中虽然有很多文件，但我们<span style="color:red">真正需要关注的应该是generators路径下面的app/index.js文件以及templates目录，其中index文件对应是generators的组装指令部分，templates路径用于存放项目所有的模板文件。</span></p>
<hr>
<ul>
<li>获取更多、更专业的IT技能，请猛戳~<a href="http://www.520it.com/" target="_blank" rel="external">小码哥教育</a>︎</li>
<li>Posted by 博客园·<a href="http://www.cnblogs.com/wendingding/" target="_blank" rel="external">文顶顶</a> ~ <a href="http://wendingding.com" target="_blank" rel="external">文顶顶的个人博客_花田半亩</a></li>
<li>联系作者 简书·<a href="http://www.jianshu.com/users/c5703017b9f5/latest_articleshttp://www.jianshu.com/users/c5703017b9f5/latest_articles" target="_blank" rel="external">文顶顶</a> 新浪微博·<a href="http://weibo.com/p/1005053800117445/home?from=page_100505&amp;mod=TAB#place">Coder_文顶顶</a></li>
<li>原创文章，版权声明：自由转载-非商用-非衍生-保持署名 | <a href="http://www.cnblogs.com/wendingding/" target="_blank" rel="external">文顶顶</a><br><img src="https://github.com/flowerField/Source/blob/master/Blog/banner.jpg?raw=true" onclick="window.open('http://www.520it.com/zt/t30/');"></li>
</ul>
</div></article></div></main><footer><div class="paginator"><a href="/2018/06/14/前端工程化系列[06] Yeoman脚手架工具核心机制/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2018 <a href="https://weibo.com/u/3800117445">文顶顶</a> &nbsp;☁ 全站字数统计122.1k(字)</p><!--p © #{year} #[a(href=config.url)!= config.author], powered by #[a(href=hexoURL, target="_blank") Hexo] and #[a(href=apolloURL, target="_blank") hexo-theme-apollo].--></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>