<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> TypeScript系列 [05]-TypeScript语言特性(四) · 花田半亩</title><meta name="description" content="TypeScript系列 [05]-TypeScript语言特性(四) - 文顶顶"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/logo.jpeg"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://weibo.com/u/3800117445/atom.xml" title="花田半亩"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/白菜.jpeg" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">文顶顶的BLOG</a></li><li class="nav-list-item"><a href="/tags/" target="_self" class="nav-list-link">标签</a></li><li class="nav-list-item"><a href="https://www.cnblogs.com/wendingding/" target="_blank" class="nav-list-link">博客园</a></li><li class="nav-list-item"><a href="http://weibo.com/p/1005053800117445/home?from=page_100505&amp;mod=TAB#place" target="_blank" class="nav-list-link">微博</a></li><li class="nav-list-item"><a href="http://blog.sina.com.cn/u/1910914290" target="_blank" class="nav-list-link">花田半亩</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">TypeScript系列 [05]-TypeScript语言特性(四)</h1><div class="post-info">Jun 23, 2018<span class="post-count"></span> ✧ 字数统计:1,367(字) &nbsp;&nbsp; ♨︎ 阅读时长:5(分钟)</div><div class="post-content"><h5 id="TypeScript系列-05-TypeScript语言特性-四"><a href="#TypeScript系列-05-TypeScript语言特性-四" class="headerlink" title="TypeScript系列 [05]-TypeScript语言特性(四)"></a>TypeScript系列 [05]-TypeScript语言特性(四)</h5><blockquote>
<p>说明：本文主要对TypeScript中的函数进行展开介绍。主要包括以下内容</p>
<p>❏  函数的创建和类型<br>❏  函数的参数情况说明<br>❏  函数的重载<br>❏  函数的作用域<br>❏  泛型</p>
</blockquote>
<h3 id="函数的创建和类型"><a href="#函数的创建和类型" class="headerlink" title="函数的创建和类型"></a>函数的创建和类型</h3><p><strong>函数的创建</strong></p>
<p>函数的创建主要有两种方式：<code>通过函数声明创建</code>和<code>通过函数表达式创建</code>，在形式上函数又可以被划分文<code>命名函数</code>和<code>匿名函数</code>。此外，TypeScript中还提供了箭头函数支持，在声明箭头函数的时候，我们不再使用function关键字转而使用=&gt;标记。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//文件路径 ..07-函数深入讲解/01-函数的创建.ts</span></div><div class="line"></div><div class="line"><span class="comment">//文件路径 ..07-函数深入讲解/01-函数的创建.ts</span></div><div class="line"></div><div class="line"><span class="comment">//测试变量声明提升</span></div><div class="line"><span class="built_in">console</span>.log(getName);   <span class="comment">//函数</span></div><div class="line"><span class="built_in">console</span>.log(getNameT);  <span class="comment">//undefined</span></div><div class="line"><span class="built_in">console</span>.log(f1);        <span class="comment">//undefined</span></div><div class="line"></div><div class="line"><span class="comment">//[001] 函数声明的方式创建(命名函数)</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getName</span>(<span class="params">name:string</span>):<span class="title">string</span></span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="string">"getName函数=&gt;姓名 ："</span> + name;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//[002] 函数表达式的方式创建(匿名函数)</span></div><div class="line"><span class="keyword">var</span> getNameT = <span class="function"><span class="keyword">function</span> (<span class="params">name:string</span>):<span class="title">string</span></span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="string">"getNameT函数=&gt;姓名 ："</span> + name;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//[003] 箭头函数</span></div><div class="line"><span class="keyword">var</span> f1 = (name:string):<span class="function"><span class="params">string</span>=&gt;</span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="string">"f1函数=&gt;姓名 ："</span> + name;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(getName(<span class="string">"文顶顶"</span>));            <span class="comment">//getName函数=&gt;姓名 ：文顶顶</span></div><div class="line"><span class="built_in">console</span>.log(getNameT(<span class="string">"wendingding.com"</span>)); <span class="comment">//getNameT函数=&gt;姓名 ：wendingding.com</span></div><div class="line"><span class="built_in">console</span>.log(f1(<span class="string">"奥特曼"</span>));                 <span class="comment">//f1函数=&gt;姓名 ：奥特曼</span></div></pre></td></tr></table></figure></p>
<p>因为JavaScript语言中<code>变量声明提升</code>的特性，所以<strong>通过函数声明方式创建的命名函数</strong>和<strong>通过函数表达式方式创建的匿名函数</strong>其使用特征也很不一样。熟悉JavaScript语言中<code>变量提升</code>特性的开发者应该非常清楚，所谓变量声明的提升，指的是在真正执行JavaScript代码前解释器会有个预解析的阶段，在这个阶段中会检查代码中所有的变量声明并把这些声明提升到当前作用域的顶部。</p>
<div class="tip">需要注意的是，很多人可能并不能够准确的区分清楚代码中哪部分是变量声明，哪部分不属于它，这里进行简单说明。</div>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//(1)表示声明一个变量a，并未赋值</div><div class="line">var a;   </div><div class="line">//(2)表示声明一个变量b,并把123赋值给变量b</div><div class="line">//这行代码有两部分组成，其结构为 声明 + 赋值</div><div class="line">//等价于 var b; b = 123;两行代码</div><div class="line">var b = 123;</div></pre></td></tr></table></figure>
<p><code>JavaScript预解析阶段在进行变量声明提升的时候，仅仅会把变量的声明部分进行提升，而赋值操作留在原地</code>。因为函数其实本质上也是变量，所以同样适用上面的规则。</p>
<p><strong>代码说明</strong>观察第一份示例代码，代码中以函数声明方式创建的命名函数getName，其作为函数(变量)声明在预解析阶段会被整体提升，而匿名函数（赋值给了变量getNameT）因为有赋值操作，所以在预解析阶段只会将变量声明这部分(var getNameT)提升到作用域顶部，赋值操作会被留在原地。</p>
<p><strong>函数的类型</strong></p>
<p>我们知道在TypeScript语言中，可以使用可选的类型声明来显示的指定变量的类型，函数其实也算是变量，多以我们可以在声明函数的时候，显示的声明其类型。</p>
<p>我们先看下面的函数示例代码<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">num1:number,num2:number</span>):<span class="title">string</span></span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="string">"传入的参数分别为:"</span>+num1+<span class="string">"和 "</span>+ num2 + <span class="string">"add的结果为:"</span> + (num1 + num2);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>上面的代码声明了add函数，并指定了该函数需要接受两个number类型的参数（分别为num1和num2），返回值为字符串类型。其实作为特殊的变量，我们也可以给函数也声明类型，在进行函数类型声明的时候，其语法结构同变量可选的类型声明没什么两样，结构均为：<code>声明变量键字 + 变量(函数)名 ：类型</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//001 声明变量</span></div><div class="line"><span class="keyword">let</span> str:string;</div><div class="line"><span class="comment">//002 声明变量并做初始化赋值操作</span></div><div class="line"><span class="keyword">let</span> sum:number = <span class="number">123</span>;</div><div class="line"></div><div class="line"><span class="comment">//[001]提供函数变量并显示的声明函数的类型（参数和返回值等情况）</span></div><div class="line"><span class="keyword">let</span> f1:<span class="function">(<span class="params">name:string,age:number</span>) =&gt;</span> string;</div><div class="line"><span class="comment">//赋值操作</span></div><div class="line">f1 = <span class="function"><span class="keyword">function</span> (<span class="params">name:string,age:number</span>):<span class="title">string</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="string">"姓名:"</span> +name + <span class="string">"年龄:"</span> + age;</div><div class="line">&#125;</div><div class="line"><span class="comment">//函数调用</span></div><div class="line">str = f1(<span class="string">"zs"</span>,<span class="number">18</span>);</div><div class="line"><span class="built_in">console</span>.log(str);   <span class="comment">//姓名:zs年龄:18</span></div></pre></td></tr></table></figure>
<p><code>let f1:(name:string,age:number) =&gt; string;</code>这行代码中的<code>(name:string,age:number) =&gt; string</code>用于表示函数的具体类型，我们可以发现函数的类型声明由三部分组成：<code>形参</code> + <code>=&gt;标记</code> +<code>返回值类型</code>。上面的代码中函数的类型声明和赋值操作是分开处理的，你当然也可以像普通变量那样把这两个操作合二为一，下面给出改写后的代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//[002] 声明函数（函数被指定了类型）</span></div><div class="line"><span class="keyword">let</span> str1:string;</div><div class="line"><span class="keyword">let</span> f2:<span class="function">(<span class="params">name:string,age:number</span>) =&gt;</span> string = <span class="function"><span class="keyword">function</span> (<span class="params">name:string,age:number</span>):<span class="title">string</span></span></div><div class="line"><span class="function"></span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="string">"姓名:"</span> +name + <span class="string">"年龄:"</span> + age;</div><div class="line">&#125;  </div><div class="line">str1 = f2(<span class="string">"zs"</span>,<span class="number">18</span>);</div><div class="line"><span class="built_in">console</span>.log(str1);    <span class="comment">//姓名:zs年龄:18</span></div></pre></td></tr></table></figure>
<p>备注：该文章所有的示例代码均可以<a href="https://github.com/flowerField/TypeScript-Demo" target="_blank" rel="external">点击在Github托管仓库获取</a></p>
<hr>
<ul>
<li>获取更多、更专业的IT技能，请猛戳~<a href="http://www.520it.com/" target="_blank" rel="external">小码哥教育</a>︎</li>
<li>Posted by 博客园·<a href="http://www.cnblogs.com/wendingding/" target="_blank" rel="external">文顶顶</a> ~ <a href="http://wendingding.com" target="_blank" rel="external">文顶顶的个人博客_花田半亩</a></li>
<li>联系作者 简书·<a href="http://www.jianshu.com/users/c5703017b9f5/latest_articleshttp://www.jianshu.com/users/c5703017b9f5/latest_articles" target="_blank" rel="external">文顶顶</a> 新浪微博·<a href="http://weibo.com/p/1005053800117445/home?from=page_100505&amp;mod=TAB#place">Coder_文顶顶</a></li>
<li>原创文章，版权声明：自由转载-非商用-非衍生-保持署名 | <a href="http://www.cnblogs.com/wendingding/" target="_blank" rel="external">文顶顶</a><br><img src="https://github.com/flowerField/Source/blob/master/Blog/banner.jpg?raw=true" onclick="window.open('http://www.520it.com/zt/t30/');"></li>
</ul>
</div></article></div></main><footer><div class="paginator"><a href="/2018/06/21/TypeScript系列 [04]-typeScript语言特性(三)/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2018 <a href="https://weibo.com/u/3800117445">文顶顶</a> &nbsp;☁ 全站字数统计134.5k(字)</p><!--p © #{year} #[a(href=config.url)!= config.author], powered by #[a(href=hexoURL, target="_blank") Hexo] and #[a(href=apolloURL, target="_blank") hexo-theme-apollo].--></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>