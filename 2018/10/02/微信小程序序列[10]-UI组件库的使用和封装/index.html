<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 微信小程序序列[10]-UI组件库的使用和封装 · 花田半亩</title><meta name="description" content="微信小程序序列[10]-UI组件库的使用和封装 - 文顶顶"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/logo.jpeg"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://weibo.com/u/3800117445/atom.xml" title="花田半亩"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/鲸鱼.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">文顶顶的BLOG</a></li><li class="nav-list-item"><a href="/tags/" target="_self" class="nav-list-link">标签</a></li><li class="nav-list-item"><a href="https://www.cnblogs.com/wendingding/" target="_blank" class="nav-list-link">博客园</a></li><li class="nav-list-item"><a href="http://weibo.com/p/1005053800117445/home?from=page_100505&amp;mod=TAB#place" target="_blank" class="nav-list-link">微博</a></li><li class="nav-list-item"><a href="http://blog.sina.com.cn/u/1910914290" target="_blank" class="nav-list-link">花田半亩</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">微信小程序序列[10]-UI组件库的使用和封装</h1><div class="post-info">Oct 2, 2018<span class="post-count"></span> ✧ 字数统计:900(字) &nbsp;&nbsp; ♨︎ 阅读时长:4(分钟)</div><div class="post-content"><blockquote>
<p>本文介绍微信小程序开发中常用的第三方UI组件库的基本使用流程和如何自定义组件。</p>
</blockquote>
<h3 id="1-0-第三方UI组件库的基本使用流程"><a href="#1-0-第三方UI组件库的基本使用流程" class="headerlink" title="1.0 第三方UI组件库的基本使用流程"></a>1.0 第三方UI组件库的基本使用流程</h3><p>在<a href="http://wendingding.com/2018/09/24/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%B3%BB%E5%88%97[05]-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A1%86%E6%9E%B6%E5%9F%BA%E7%A1%80%E7%BB%84%E4%BB%B601" target="_blank" rel="external">小程序框架基础组件</a>这篇文章的末尾简单列出了小程序开发中常用的一些第三方UI组件库，包括iview和Weui等,这里讲简单说明这些第三方UI组件库的基本使用流程。</p>
<p>通常，在使用第三方组件库之前首先需要通过<code>代码的托管仓库</code>和<code>组件库文档</code>来了解该组件库都提供哪些自定义的组件这是组件和当前项目是否匹配等信息(<code>很多的第三方组件库都提供了专门的演示小程序可以安装和体验</code>)，确定之后就只需在项目中应用了。</p>
<p><strong>第三方组件库的基本使用流程</strong></p>
<blockquote>
<p>❏ 在github下载完整的仓库代码。<br>❏ 把仓库代码中存放自定义组件的文件夹拷贝到项目中(dist目录)。<br>❏ 在项目中需要使用到的页面的json文件中对第三方组件进行配置。<br>❏ 在项目中需要使用到的页面的wxml文件中直接使用，同原生组件一致。<br>❏ 参考组件库文档来对自定义的组件传递参数(通常是以属性赋值的方式进行)。</p>
</blockquote>
<p><strong><code>ex:使用iview-weapp组件库中的i-cell组件</code></strong></p>
<p><strong><code>001</code></strong> 在github中找到组件库的<a href="https://github.com/TalkingData/iview-weapp" target="_blank" rel="external">仓库托管地址</a>并点击clone OR Download下载。</p>
<p><strong><code>002</code></strong> 下载后将仓库中的dist目录拷贝到自己的项目中，这里可以在根目录下新建components文件夹专门用来存放需要用到的所有组件，因为项目中可能用到多个UI组件库，所以把dist改名为iview目录。</p>
<p><strong><code>003</code></strong> 因为在项目中的<strong>mine/index.wxml</strong>文件中需要使用到iview组件库中的<span style="color:#f05">i-cell</span>、<span style="color:#f05">i-panel</span>以及<span style="color:#f05">i-cell-group</span>组件所以需要先在<strong>mine/index.json</strong>文件中进行配置，配置项如下。<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="attr">"usingComponents"</span>: &#123;</div><div class="line">    <span class="attr">"i-cell"</span>: <span class="string">"../../components/ivew/cell/index"</span>,</div><div class="line">    <span class="attr">"i-panel"</span>:<span class="string">"../../components/ivew/panel/index"</span>,</div><div class="line">    <span class="attr">"i-cell-group"</span>:<span class="string">"../../components/ivew/cell-group/index"</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong><code>004</code></strong> 在项目中的<strong>mine/index.wxml</strong>文件中直接使用这些组件来实现特定效果。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">i-panel</span> <span class="attr">title</span>=<span class="string">" "</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">i-cell-group</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">i-cell</span>  <span class="attr">title</span>=<span class="string">"心意卡"</span> <span class="attr">is-link</span> &gt;</span><span class="tag">&lt;/<span class="name">i-cell</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">i-cell</span>  <span class="attr">title</span>=<span class="string">"优惠券"</span> <span class="attr">is-link</span> &gt;</span><span class="tag">&lt;/<span class="name">i-cell</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">i-cell-group</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">i-panel</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">i-panel</span> <span class="attr">title</span>=<span class="string">" "</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">i-cell-group</span>&gt;</span></div><div class="line">   <span class="tag">&lt;<span class="name">i-cell</span>  <span class="attr">title</span>=<span class="string">"我的地址"</span> <span class="attr">is-link</span> <span class="attr">url</span>=<span class="string">"/pages/address/index"</span>&gt;</span><span class="tag">&lt;/<span class="name">i-cell</span>&gt;</span></div><div class="line">   <span class="tag">&lt;<span class="name">i-cell</span>  <span class="attr">title</span>=<span class="string">"我的尺寸"</span> <span class="attr">is-link</span> &gt;</span><span class="tag">&lt;/<span class="name">i-cell</span>&gt;</span></div><div class="line"> <span class="tag">&lt;/<span class="name">i-cell-group</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">i-panel</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>如果需要对UI组件的样式进行调整那么可以选择直接到components/iview中对既定的样式进行修改，更好的方法是<span style="color:#195">给用到的组件添加新的class,并在对应的wxss文件中进行设置</span>。</p>
<h3 id="2-0-自定义组件的封装"><a href="#2-0-自定义组件的封装" class="headerlink" title="2.0 自定义组件的封装"></a>2.0 自定义组件的封装</h3><pre><code>在小程序的开发中如果某些代码需要到多个地方用到(往往是视图结构相同到填充的数据不同)，那么可以考虑把这些代码抽取成模板或者是封装成自定义的组件，在[模板的基本使用和引入](http://wendingding.com/2018/09/27/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%B3%BB%E5%88%97[08]-%E6%A8%A1%E6%9D%BF%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E5%92%8C%E5%BC%95%E5%85%A5)这篇文章中已经介绍了模板的基本用法，这里重点说明把代码封装成自定义组件的基本流程。
</code></pre></div></article></div></main><footer><div class="paginator"><a href="/2018/09/27/微信小程序序列[09]-小程序中的基础组件(二)/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2018 <a href="https://weibo.com/u/3800117445">文顶顶</a> &nbsp;☁ 全站字数统计190.1k(字)</p><!--p © #{year} #[a(href=config.url)!= config.author], powered by #[a(href=hexoURL, target="_blank") Hexo] and #[a(href=apolloURL, target="_blank") hexo-theme-apollo].--></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>