<!DOCTYPE html><html lang="zh-Hans"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Node系列-OS · 花田半亩</title><meta name="description" content="Node系列-OS - 文顶顶"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/logo.jpeg"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://weibo.com/u/3800117445/atom.xml" title="花田半亩"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/鲸鱼.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">文顶顶的BLOG</a></li><li class="nav-list-item"><a href="/tags/" target="_self" class="nav-list-link">标签</a></li><li class="nav-list-item"><a href="https://www.cnblogs.com/wendingding/" target="_blank" class="nav-list-link">博客园</a></li><li class="nav-list-item"><a href="http://weibo.com/p/1005053800117445/home?from=page_100505&amp;mod=TAB#place" target="_blank" class="nav-list-link">微博</a></li><li class="nav-list-item"><a href="http://blog.sina.com.cn/u/1910914290" target="_blank" class="nav-list-link">花田半亩</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Node系列-OS</h1><div class="post-info">Dec 7, 2018<span class="post-count"></span> ✧ 字数统计:1,374(字) &nbsp;&nbsp; ♨︎ 阅读时长:7(分钟)</div><div class="post-content"><h4 id="1-0-OS模块介绍"><a href="#1-0-OS模块介绍" class="headerlink" title="1.0 OS模块介绍"></a>1.0 OS模块介绍</h4><p> Node中的<a href="http://nodejs.cn/api/os.html" target="_blank" rel="noopener">OS模块</a>提供了和当前系统相关的一系列实用方法。在代码中可以直接用<code>os = require(&quot;os&quot;)</code>的方式来引入。OS模块本身非常的简单，本文将简单对其常用的方法和重要属性进行介绍并提供示例。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">wendingding$ node</span><br><span class="line">&gt; <span class="built_in">console</span>.dir(os,&#123;<span class="attr">showHiddren</span>:<span class="literal">true</span>,<span class="attr">depth</span>:<span class="number">0</span>,<span class="attr">colors</span>:<span class="literal">true</span>&#125;)</span><br><span class="line"></span><br><span class="line">&#123; <span class="attr">arch</span>: [<span class="built_in">Object</span>],</span><br><span class="line">  cpus: [<span class="built_in">Function</span>: cpus],</span><br><span class="line">  EOL: <span class="string">'\n'</span>,</span><br><span class="line">  endianness: [<span class="built_in">Object</span>],</span><br><span class="line">  freemem: [<span class="built_in">Object</span>],</span><br><span class="line">  homedir: [<span class="built_in">Object</span>],</span><br><span class="line">  hostname: [<span class="built_in">Object</span>],</span><br><span class="line">  loadavg: [<span class="built_in">Function</span>: loadavg],</span><br><span class="line">  networkInterfaces: [<span class="built_in">Function</span>: networkInterfaces],</span><br><span class="line">  platform: [<span class="built_in">Object</span>],</span><br><span class="line">  release: [<span class="built_in">Object</span>],</span><br><span class="line">  tmpdir: [<span class="built_in">Object</span>],</span><br><span class="line">  totalmem: [<span class="built_in">Object</span>],</span><br><span class="line">  type: [<span class="built_in">Object</span>],</span><br><span class="line">  userInfo: [<span class="built_in">Function</span>: getUserInfo],</span><br><span class="line">  uptime: [<span class="built_in">Object</span>],</span><br><span class="line">  getNetworkInterfaces: [<span class="built_in">Function</span>: deprecated],</span><br><span class="line">  tmpDir: [<span class="built_in">Function</span>: deprecated],</span><br><span class="line">  constants: [<span class="built_in">Object</span>] </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-0-基本使用"><a href="#2-0-基本使用" class="headerlink" title="2.0 基本使用"></a>2.0 基本使用</h4><p><code>OS模块</code>中的这些方法都不接受参数，全是获取(信息)型的方法，使用简单直接调用即可。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//001 导入模块</span></span><br><span class="line"><span class="keyword">var</span> os = <span class="built_in">require</span>(<span class="string">"os"</span>);</span><br><span class="line"><span class="comment">//002 迭代os对象</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> f <span class="keyword">in</span> os)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//003 获取os对象所有的方法并控制输出</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> os[f] === <span class="string">"function"</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"当前方法名称："</span>,f);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"调用执行结果："</span>,os[f]());</span><br><span class="line">    &#125;<span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//004 获取os对象中所有的属性并输出名称</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"当前属性名称："</span>,f);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"_____________"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>使用自己的电脑进行测试，执行上面的代码，打印OS模块中所有的方法名并调用这些方法输出结果，下面列出命令行执行JavaScript文件的结果。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line">wendingding$ node os.js </span><br><span class="line">当前方法名称： arch</span><br><span class="line">调用执行结果： x64</span><br><span class="line">_____________</span><br><span class="line">当前方法名称： cpus</span><br><span class="line">调用执行结果： [ &#123; model: <span class="string">'Intel(R) Core(TM) i5-5257U CPU @ 2.70GHz'</span>,</span><br><span class="line">    speed: 2700,</span><br><span class="line">    <span class="built_in">times</span>: &#123; user: 730600, nice: 0, sys: 570160, idle: 4650220, irq: 0 &#125; &#125;,</span><br><span class="line">  &#123; model: <span class="string">'Intel(R) Core(TM) i5-5257U CPU @ 2.70GHz'</span>,</span><br><span class="line">    speed: 2700,</span><br><span class="line">    <span class="built_in">times</span>: &#123; user: 247120, nice: 0, sys: 137070, idle: 5566140, irq: 0 &#125; &#125;,</span><br><span class="line">  &#123; model: <span class="string">'Intel(R) Core(TM) i5-5257U CPU @ 2.70GHz'</span>,</span><br><span class="line">    speed: 2700,</span><br><span class="line">    <span class="built_in">times</span>: &#123; user: 667530, nice: 0, sys: 377510, idle: 4905300, irq: 0 &#125; &#125;,</span><br><span class="line">  &#123; model: <span class="string">'Intel(R) Core(TM) i5-5257U CPU @ 2.70GHz'</span>,</span><br><span class="line">    speed: 2700,</span><br><span class="line">    <span class="built_in">times</span>: &#123; user: 256200, nice: 0, sys: 137540, idle: 5556590, irq: 0 &#125; &#125; ]</span><br><span class="line">_____________</span><br><span class="line">当前属性名称： EOL</span><br><span class="line">_____________</span><br><span class="line">当前方法名称： endianness</span><br><span class="line">调用执行结果： LE</span><br><span class="line">_____________</span><br><span class="line">当前方法名称： freemem</span><br><span class="line">调用执行结果： 159780864</span><br><span class="line">_____________</span><br><span class="line">当前方法名称： homedir</span><br><span class="line">调用执行结果： /Users/文顶顶</span><br><span class="line">_____________</span><br><span class="line">当前方法名称： hostname</span><br><span class="line">调用执行结果： wendingding.local</span><br><span class="line">_____________</span><br><span class="line">当前方法名称： loadavg</span><br><span class="line">调用执行结果： [ 1.8583984375, 1.6640625, 1.6328125 ]</span><br><span class="line">_____________</span><br><span class="line">当前方法名称： networkInterfaces</span><br><span class="line">调用执行结果： &#123; lo0: </span><br><span class="line">   [ &#123; address: <span class="string">'127.0.0.1'</span>,</span><br><span class="line">       netmask: <span class="string">'255.0.0.0'</span>,</span><br><span class="line">       family: <span class="string">'IPv4'</span>,</span><br><span class="line">       mac: <span class="string">'00:00:00:00:00:00'</span>,</span><br><span class="line">       internal: <span class="literal">true</span>,</span><br><span class="line">       cidr: <span class="string">'127.0.0.1/8'</span> &#125;,</span><br><span class="line">     &#123; address: <span class="string">'::1'</span>,</span><br><span class="line">       netmask: <span class="string">'ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff'</span>,</span><br><span class="line">       family: <span class="string">'IPv6'</span>,</span><br><span class="line">       mac: <span class="string">'00:00:00:00:00:00'</span>,</span><br><span class="line">       scopeid: 0,</span><br><span class="line">       internal: <span class="literal">true</span>,</span><br><span class="line">       cidr: <span class="string">'::1/128'</span> &#125;</span><br><span class="line">       ···省略···</span><br><span class="line">   ]&#125;</span><br><span class="line">_____________</span><br><span class="line">当前方法名称： platform</span><br><span class="line">调用执行结果： darwin</span><br><span class="line">_____________</span><br><span class="line">当前方法名称： release</span><br><span class="line">调用执行结果： 17.4.0</span><br><span class="line">_____________</span><br><span class="line">当前方法名称： tmpdir</span><br><span class="line">调用执行结果： /var/folders/6t/83z6zbfn0w56l2dzc_c2y1wh0000gn/T</span><br><span class="line">_____________</span><br><span class="line">当前方法名称： totalmem</span><br><span class="line">调用执行结果： 8589934592</span><br><span class="line">_____________</span><br><span class="line">当前方法名称： <span class="built_in">type</span></span><br><span class="line">调用执行结果： Darwin</span><br><span class="line">_____________</span><br><span class="line">当前方法名称： userInfo</span><br><span class="line">调用执行结果： &#123; uid: 501,</span><br><span class="line">  gid: 20,</span><br><span class="line">  username: <span class="string">'wendingding'</span>,</span><br><span class="line">  homedir: <span class="string">'/Users/文顶顶'</span>,</span><br><span class="line">  shell: <span class="string">'/bin/bash'</span> &#125;</span><br><span class="line">_____________</span><br><span class="line">当前方法名称： uptime</span><br><span class="line">调用执行结果： 8730</span><br><span class="line">_____________</span><br><span class="line">当前方法名称： getNetworkInterfaces</span><br><span class="line">调用执行结果： &#123; lo0: </span><br><span class="line">   [ &#123; address: <span class="string">'127.0.0.1'</span>,</span><br><span class="line">       netmask: <span class="string">'255.0.0.0'</span>,</span><br><span class="line">       family: <span class="string">'IPv4'</span>,</span><br><span class="line">       mac: <span class="string">'00:00:00:00:00:00'</span>,</span><br><span class="line">       internal: <span class="literal">true</span> &#125;,</span><br><span class="line">     &#123; address: <span class="string">'::1'</span>,</span><br><span class="line">       netmask: <span class="string">'ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff'</span>,</span><br><span class="line">       family: <span class="string">'IPv6'</span>,</span><br><span class="line">       mac: <span class="string">'00:00:00:00:00:00'</span>,</span><br><span class="line">       scopeid: 0,</span><br><span class="line">       internal: <span class="literal">true</span> &#125;,</span><br><span class="line">     &#123; address: <span class="string">'fe80::1'</span>,</span><br><span class="line">       netmask: <span class="string">'ffff:ffff:ffff:ffff::'</span>,</span><br><span class="line">       family: <span class="string">'IPv6'</span>,</span><br><span class="line">       mac: <span class="string">'00:00:00:00:00:00'</span>,</span><br><span class="line">       scopeid: 1,</span><br><span class="line">       internal: <span class="literal">true</span> &#125; ],</span><br><span class="line">  en0: </span><br><span class="line">   [ &#123; address: <span class="string">'192.168.51.245'</span>,</span><br><span class="line">       netmask: <span class="string">'255.255.255.0'</span>,</span><br><span class="line">       family: <span class="string">'IPv4'</span>,</span><br><span class="line">       mac: <span class="string">'a4:5e:60:e0:65:b1'</span>,</span><br><span class="line">       internal: <span class="literal">false</span> &#125; ],</span><br><span class="line">  awdl0: </span><br><span class="line">   [ &#123; address: <span class="string">'fe80::58c6:9eff:feb1:f896'</span>,</span><br><span class="line">       netmask: <span class="string">'ffff:ffff:ffff:ffff::'</span>,</span><br><span class="line">       family: <span class="string">'IPv6'</span>,</span><br><span class="line">       mac: <span class="string">'5a:c6:9e:b1:f8:96'</span>,</span><br><span class="line">       scopeid: 8,</span><br><span class="line">       internal: <span class="literal">false</span> &#125; ],</span><br><span class="line">  utun0: </span><br><span class="line">   [ &#123; address: <span class="string">'fe80::18e0:16fa:bb6:ab15'</span>,</span><br><span class="line">       netmask: <span class="string">'ffff:ffff:ffff:ffff::'</span>,</span><br><span class="line">       family: <span class="string">'IPv6'</span>,</span><br><span class="line">       mac: <span class="string">'00:00:00:00:00:00'</span>,</span><br><span class="line">       scopeid: 12,</span><br><span class="line">       internal: <span class="literal">false</span> &#125; ] &#125;</span><br><span class="line">_____________</span><br><span class="line">当前方法名称： tmpDir</span><br><span class="line">调用执行结果： /var/folders/6t/83z6zbfn0w56l2dzc_c2y1wh0000gn/T</span><br><span class="line">_____________</span><br><span class="line">当前属性名称： constants</span><br><span class="line">_____________</span><br><span class="line">(node:2128) [DEP0023] DeprecationWarning: os.getNetworkInterfaces is deprecated.</span><br><span class="line">(node:2128) [DEP0022] DeprecationWarning: os.tmpDir() is deprecated.</span><br></pre></td></tr></table></figure>
<p><strong>整体结构</strong></p>
<p><img src="https://github.com/flowerField/Source/blob/master/Blog/node_os.png?raw=true"></p>
<p>OS模块对象的EOL属性是一个字符串常量，该常量定义了相关操作系统的行末标志。如果是POSIX 系统，那么则对应的是<code>\n</code>符号，如果是Windows系统，那么对应的是<code>\r\n</code>符号。</p>
<p>现存的CPU架构可能存在：<code>&#39;arm&#39;, &#39;arm64&#39;, &#39;ia32&#39;, &#39;mips&#39;, &#39;mipsel&#39;, &#39;ppc&#39;, &#39;ppc64&#39;, &#39;s390&#39;, &#39;s390x&#39;, &#39;x32&#39;, &#39;x64&#39;</code>等情况。</p>
<p>二进制编译环境的字节顺序通常有两种：<code>&#39;BE&#39;</code>（大端模式）和<code>&#39;LE&#39;</code>（小端模式）</p>
<p>平均负载是系统活动的测量由操作系统自己计算得出，表达为一个分数. 通常理想的平均负载应该比系统的逻辑CPU的数目要少，平均负载是UNIX相关的概念，在Windows平台上，其返回值总是[0, 0, 0]。</p>
<p>关于OS常量和错误常量相关的信息，请参考<a href="https://nodejs.org/dist/latest-v10.x/docs/api/os.html#os_os_constants_1" target="_blank" rel="noopener">官方文档</a>。</p>
<hr>
<ul>
<li>Posted by 博客园·<a href="http://www.cnblogs.com/wendingding/" target="_blank" rel="noopener">文顶顶</a> | <a href="http://wendingding.com" target="_blank" rel="noopener">花田半亩</a></li>
<li>联系作者 简书·<a href="http://www.jianshu.com/users/c5703017b9f5/latest_articleshttp://www.jianshu.com/users/c5703017b9f5/latest_articles" target="_blank" rel="noopener">文顶顶</a> 新浪微博·<a href="http://weibo.com/p/1005053800117445/home?from=page_100505&amp;mod=TAB#place">Coder_文顶顶</a></li>
<li>原创文章，版权声明：自由转载-非商用-非衍生-保持署名 | <a href="http://www.cnblogs.com/wendingding/" target="_blank" rel="noopener">文顶顶</a></li>
</ul>
</div></article></div></main><footer><div class="paginator"><a href="/2018/12/08/Node系列-Event/" class="prev">上一篇</a><a href="/2018/12/06/Node系列-Buffer/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2019 <a href="https://weibo.com/u/3800117445">文顶顶</a> &nbsp;☁ 全站字数统计 326.4k (字)</p><div class="topDiv"><div><img src="https://raw.githubusercontent.com/flowerField/Source/master/Blog/M.png" style="width:100px;height:100px"> </div></div><!--p © #{year} #[a(href=config.url)!= config.author], powered by #[a(href=hexoURL, target="_blank") Hexo] and #[a(href=apolloURL, target="_blank") hexo-theme-apollo].--></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>